<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>planet davorg</title>
  <link rel="alternate" href="https://davorg.theplanetarium.org/" type="text/html"/>
  <subtitle>Aggregating Dave's stuff</subtitle>
  <author>
    <name>Dave Cross</name>
    <email>dave@theplanetarium.org</email>
  </author>
  <updated>2023-03-10T01:36:10Z</updated>
  <link rel="self" href="https://davorg.theplanetarium.org/" type="application/atom+xml"/>
  <id>https://davorg.theplanetarium.org/</id>
  <entry>
    <title>Improvements to Planet Perl and Perlanet</title>
    <link rel="alternate" href="https://perlhacks.com/2023/03/improvements-to-planet-perl-and-perlanet/" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p>This is a story of one of those nice incidents where something starts off simple, then spirals out of control for a while but, in the end, everyone wins.</p>
<p>On Reddit, a few days ago, someone asked <a href="https://www.reddit.com/r/perl/comments/119hu00/perl_rss_feeds/">‘Is there a “Planet Perl” with an RSS feed?’</a> and a few people replied, pointing out the existence of Planet Perl (which is the first Google result for <a href="https://www.google.com/search?q=planet+perl">“Planet Perl”</a>). I’m obviously not marketing that site very well as every time I mention it, I get people (pleasantly) surprised that it exists.</p>
<p>On this occasion, it was <a href="https://www.reddit.com/user/rwp0/">Elvin Aslanov</a> who seemed to discover my site for the first time. And, very soon afterwards, he started sending <a href="https://github.com/davorg/planetperl/pulls">pull requests</a> to add feeds to the site. As a result, we now have three more feeds that are being pulled into the site.</p>
<ul>
<li><a href="https://medium.com/tag/perl">Perl on Medium</a>. I’m slightly embarrassed that I hadn’t thought of this myself. I did, after all, once try to start <a href="https://medium.com/cultured-perl">a Perl publication on Medium</a>. I think I must have decided that there are better sites for technical blogging and blanked it from consideration. Medium’s not the busiest of places for Perl bloggers, but there are a few posts there and they’re mostly from people who are outside of the echo chamber – so getting more eyes on their posts is a good idea.</li>
<li><a href="https://stackoverflow.com/feeds/tag/perl">Perl questions on Stack Overflow</a>. Another one that would have been obvious if I had thought for a second. I’ve been answering questions on SO for years. It’s a good way to get more perspective on how Perl is being used across the industry. Unfortunately, the feed only includes the titles of the posts – you’ll need to click the link to actually see the question.</li>
<li><a href="https://github.com/Perl/perl5/commits/blead.atom">Perl commits on GitHub</a>. I’m interested in hearing how useful people think this is. I worry slightly that there will be times when the number of commits will overwhelm the other feeds. But maybe that’s a good idea. Perhaps it’s good for more people to see just how busy the Perl 5 Porters are. I’m a bit annoyed that the feed puts everything in a fixed-width font, but not (yet) annoyed enough to do anything about it.</li>
</ul>
<p>You might know that Planet Perl is driven by <a href="https://metacpan.org/pod/Perlanet">Perlanet</a>. So adding new feeds is just a case of adding a few lines to <a href="https://github.com/davorg/planetperl/blob/master/perlanetrc">a configuration file</a>. And looking at the pull requests I got from Elvin, showed a potential problem in the way the configuration was laid out. Each feed has three lines of YAML configuration. There’s a title for the feed, a URL for a web page that displays the content of the feed and the URL for the feed itself. They’re called “title”, “web” and “url”. And it’s that last name that’s slightly problematic – it’s just not clear enough. Elvin got “web” and “url” muddled up in one of his PRs and, when I pointed that out to him, he suggested that renaming “url” to “feed” would make things much clearer.</p>
<p>I agreed, and the next day I hacked away for a while before releasing <a href="https://metacpan.org/release/DAVECROSS/Perlanet-v3.0.0/view/lib/Perlanet.pm">version 3.0.0 of Perlanet</a>. In this version, the “url” key is renamed to “feed”. It still accepts the old name (so older config files will still work) but you’ll get a warning if you try to use a config name in the old config.</p>
<p>I didn’t stop there. Last year, I wrote <a href="https://perlhacks.com/2022/10/building-a-perlanet-container/">a blog post about producing a docker image that already had Perlanet installed</a> – so that it was quicker to rebuild my various planets every few hours. Since then I’ve been rebuilding <a href="https://hub.docker.com/repository/docker/davorg/perl-perlanet/general">that image</a> every time I updated Perlanet. But it’s been rather a manual process. And because I’m old and decrepit, I can never remember the steps I go through to rebuild it, tag it correctly and push it to the Docker Hub. This means it always takes far longer than it’s supposed to. So this time, I wrote <a href="https://github.com/davorg/perl-perlanet-docker/blob/main/build">a script to do that for me</a>. And because I now have the kind of mind set that sees GitHub Workflows everywhere I look, I wrote <a href="https://github.com/davorg/perl-perlanet-docker/blob/main/.github/workflows/publish_image.yml">a Workflow definition that builds and publishes the image</a> any time the Dockerfile changes. I guess the next step will be to write an action that automatically updates the Dockerfile (thereby triggering the rebuild) each time I release a new version of Perlanet.</p>
<p>But that’s a problem for another day. For now, I’m happy with the improvements I’ve made to Planet Perl, Perlanet and the Perlanet Docker infrastructure.</p>
<p>The post <a rel="nofollow" href="https://perlhacks.com/2023/03/improvements-to-planet-perl-and-perlanet/">Improvements to Planet Perl and Perlanet</a> appeared first on <a rel="nofollow" href="https://perlhacks.com">Perl Hacks</a>.</p>
</div>
    </content>
    <summary type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p>This is a story of one of those nice incidents where something starts off simple, then spirals out of control for a while but, in the end, everyone wins. On Reddit, a few days ago, someone asked ‘Is there a “Planet Perl” with an RSS feed?’ and a few people replied, pointing out the existence… <a class="more-link" href="https://perlhacks.com/2023/03/improvements-to-planet-perl-and-perlanet/">Continue reading <span class="screen-reader-text">Improvements to Planet Perl and Perlanet</span></a></p>
<p>The post <a rel="nofollow" href="https://perlhacks.com/2023/03/improvements-to-planet-perl-and-perlanet/">Improvements to Planet Perl and Perlanet</a> appeared first on <a rel="nofollow" href="https://perlhacks.com">Perl Hacks</a>.</p>
</div>
    </summary>
    <author>
      <name>Dave Cross</name>
    </author>
    <id>https://perlhacks.com/?p=2097</id>
    <published>2023-03-03T10:16:30Z</published>
    <updated>2023-03-03T10:16:30Z</updated>
    <category term="Programming"/>
    <category term="docker"/>
    <category term="perlanet"/>
    <category term="planet perl"/>
  </entry>
  <entry>
    <title>Improvements to Planet Perl and Perlanet</title>
    <link rel="alternate" href="https://dev.to/davorg/improvements-to-planet-perl-and-perlanet-20d3" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p>This is a story of one of those nice incidents where something starts off simple, then spirals out of control for a while but, in the end, everyone wins.</p>

<p>On Reddit, a few days ago, someone asked <a href="https://www.reddit.com/r/perl/comments/119hu00/perl_rss_feeds/">‘Is there a “Planet Perl” with an RSS feed?’</a> and a few people replied, pointing out the existence of Planet Perl (which is the first Google result for <a href="https://www.google.com/search?q=planet+perl">“Planet Perl”</a>). I’m obviously not marketing that site very well as every time I mention it, I get people (pleasantly) surprised that it exists.</p>

<p>On this occasion, it was <a href="https://www.reddit.com/user/rwp0/">Elvin Aslanov</a> who seemed to discover my site for the first time. And, very soon afterwards, he started sending <a href="https://github.com/davorg/planetperl/pulls">pull requests</a> to add feeds to the site. As a result, we now have three more feeds that are being pulled into the site.</p>

<ul>
<li>
<a href="https://medium.com/tag/perl">Perl on Medium</a>. I’m slightly embarrassed that I hadn’t thought of this myself. I did, after all, once try to start <a href="https://medium.com/cultured-perl">a Perl publication on Medium</a>. I think I must have decided that there are better sites for technical blogging and blanked it from consideration. Medium’s not the busiest of places for Perl bloggers, but there are a few posts there and they’re mostly from people who are outside of the echo chamber – so getting more eyes on their posts is a good idea.</li>
<li>
<a href="https://stackoverflow.com/feeds/tag/perl">Perl questions on Stack Overflow</a>. Another one that would have been obvious if I had thought for a second. I’ve been answering questions on SO for years. It’s a good way to get more perspective on how Perl is being used across the industry. Unfortunately, the feed only includes the titles of the posts – you’ll need to click the link to actually see the question.</li>
<li>
<a href="https://github.com/Perl/perl5/commits/blead.atom">Perl commits on GitHub</a>. I’m interested in hearing how useful people think this is. I worry slightly that there will be times when the number of commits will overwhelm the other feeds. But maybe that’s a good idea. Perhaps it’s good for more people to see just how busy the Perl 5 Porters are. I’m a bit annoyed that the feed puts everything in a fixed-width font, but not (yet) annoyed enough to do anything about it.</li>
</ul>

<p>You might know that Planet Perl is driven by <a href="https://metacpan.org/pod/Perlanet">Perlanet</a>. So adding new feeds is just a case of adding a few lines to <a href="https://github.com/davorg/planetperl/blob/master/perlanetrc">a configuration file</a>. And looking at the pull requests I got from Elvin, showed a potential problem in the way the configuration was laid out. Each feed has three lines of YAML configuration. There’s a title for the feed, a URL for a web page that displays the content of the feed and the URL for the feed itself. They’re called “title”, “web” and “url”. And it’s that last name that’s slightly problematic – it’s just not clear enough. Elvin got “web” and “url” muddled up in one of his PRs and, when I pointed that out to him, he suggested that renaming “url” to “feed” would make things much clearer.</p>

<p>I agreed, and the next day I hacked away for a while before releasing <a href="https://metacpan.org/release/DAVECROSS/Perlanet-v3.0.0/view/lib/Perlanet.pm">version 3.0.0 of Perlanet</a>. In this version, the “url” key is renamed to “feed”. It still accepts the old name (so older config files will still work) but you’ll get a warning if you try to use a config name in the old config.</p>

<p>I didn’t stop there. Last year, I wrote <a href="https://dev.to/davorg/building-a-perlanet-container-43cm">a blog post about producing a docker image that already had Perlanet installed</a> – so that it was quicker to rebuild my various planets every few hours. Since then I’ve been rebuilding <a href="https://hub.docker.com/repository/docker/davorg/perl-perlanet/general">that image</a> every time I updated Perlanet. But it’s been rather a manual process. And because I’m old and decrepit, I can never remember the steps I go through to rebuild it, tag it correctly and push it to the Docker Hub. This means it always takes far longer than it’s supposed to. So this time, I wrote <a href="https://github.com/davorg/perl-perlanet-docker/blob/main/build">a script to do that for me</a>. And because I now have the kind of mind set that sees GitHub Workflows everywhere I look, I wrote <a href="https://github.com/davorg/perl-perlanet-docker/blob/main/.github/workflows/publish_image.yml">a Workflow definition that builds and publishes the image</a> any time the Dockerfile changes. I guess the next step will be to write an action that automatically updates the Dockerfile (thereby triggering the rebuild) each time I release a new version of Perlanet.</p>

<p>But that’s a problem for another day. For now, I’m happy with the improvements I’ve made to Planet Perl, Perlanet and the Perlanet Docker infrastructure.</p>

<p>The post <a href="https://perlhacks.com/2023/03/improvements-to-planet-perl-and-perlanet/">Improvements to Planet Perl and Perlanet</a> appeared first on <a href="https://perlhacks.com">Perl Hacks</a>.</p>

</div>
    </content>
    <author>
      <name>Dave Cross</name>
    </author>
    <id>https://dev.to/davorg/improvements-to-planet-perl-and-perlanet-20d3</id>
    <published>2023-03-03T10:16:30Z</published>
    <updated>2023-03-03T10:16:30Z</updated>
    <category term="programming"/>
    <category term="docker"/>
    <category term="perlanet"/>
    <category term="planetperl"/>
  </entry>
  <entry>
    <title>Dependabot and GitHub Actions</title>
    <link rel="alternate" href="https://dev.to/davorg/dependabot-and-github-actions-3lai" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p>If you're using GitHub Workflows to automate bits of your development process (test runs, deployment, stuff like that) then you're almost certainly using GitHub Actions as well. Actions are pre-build chunks of functionality that you can use in your workflows and which save you having to write a load of code yourself. I've never, for example, written a workflow definition that doesn't use <a href="https://github.com/marketplace/actions/checkout">actions/checkout</a> to checkout the current repo on the container that is running that workflow. Part of my workflow definition will always look like this:</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>steps:
  - name: Check out code
    uses: actions/checkout@v3
</code></pre>

</div>

<p>Or, at least, it will look a lot like that. The bit that might change is that <code>v3</code> on the end there. That is, of course, the version of the action that I'm using. And that will change when the author of the action releases a new version. Well, strictly speaking, it will change when I notice that there's a new version and bother to update the workflow definition.</p>

<p>Recently, I noticed that two of the actions I use frequently (including the checkout action which I use <em>everywhere</em>) had updated their version numbers and I hadn't known about the change. It took a few hours of work to update the version numbers in all of my workflow definitions.</p>

<p>And life isn't supposed to be that much work.</p>

<p>But there's a solution. And I discovered it thanks to <a href="https://www.reddit.com/r/github/comments/1134qvp/github_actions_is_it_safe_to_use_master/">a discussion on Reddit</a>.</p>

<p>If you're doing much work on GitHub (particularly in the Javascript/Node) area, then you'll have met <a href="https://github.com/dependabot">Dependabot</a>. It's a bot that scans GitHub repos for dependencies that are out of date and then (and here's the really clever bit!) it generates pull requests that update the repo to use the updated versions.</p>

<p>To be honest, I don't have many projects on GitHub that use the technologies that Dependabot targets by default. The few I have are web sites that use frameworks I've cloned from elsewhere - so I get the occasional PR that updates <code>packages.json</code> and I just apply them and forget about it.</p>

<p>But it seems that Dependabot can do far more than that. You just need to configure it properly in your repo. And one of the things it can do is to scan for out of date actions being used in your workflow definitions. You just need a file called <code>dependabot.yml</code> in your <code>.github</code> directory and the contents should look like this:</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code># Set update schedule for GitHub Actions

version: 2
updates:

  - package-ecosystem: "github-actions"
    directory: "/"
    schedule:
      # Check for updates to GitHub Actions every week
      interval: "weekly"
</code></pre>

</div>

<p>Dependabot will then check your actions versions once a week and create PRs for any that are out of date. I know it works, because I added this to all of my repos this morning and it promptly created half a dozen PRs for repos where I had updated the versions but hadn't pushed the changes to GitHub. When I pushed the existing changes, Dependabot checked its PR against the new code, realised the PR was no longer needed and closed the PR. Which was nice :-)</p>

<p>It you're using GitHub Workflows (and I can't really think of any reason why you wouldn't be) then I recommend adding this file to your repos. Of course, GitHub has <a href="https://docs.github.com/en/code-security/dependabot/working-with-dependabot/keeping-your-actions-up-to-date-with-dependabot">documentation about this feature</a>.</p>

<p>Dependabot clearly has more uses than I thought it did. I'm going to have to investigate it further. I wonder if it can check CPAN dependencies.</p>

<p>Do you have any Dependabot tricks that I would find useful?</p>

</div>
    </content>
    <author>
      <name>Dave Cross</name>
    </author>
    <id>https://dev.to/davorg/dependabot-and-github-actions-3lai</id>
    <published>2023-02-16T16:10:44Z</published>
    <updated>2023-02-16T16:10:44Z</updated>
    <category term="github"/>
    <category term="githubactions"/>
    <category term="dependabot"/>
  </entry>
  <entry>
    <title>2022 in Gigs</title>
    <link rel="alternate" href="https://blog.dave.org.uk/2023/02/2022-in-gigs.html" type="text/html"/>
    <content type="html">
&lt;p&gt;Rather later than usual (again!) here is my review of the best ten gigs I saw in 2022. For the first time since 2019, I did actually see more than ten gigs in 2022 although my total of sixteen falls well short of my pre-pandemic years.&lt;/p&gt;



&lt;p&gt;Here are my ten favourite gigs of the year. As always, they&amp;#8217;re in chronological order.&lt;/p&gt;



&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href="https://www.songkick.com/concerts/39759069-pale-waves-at-roundhouse"&gt;Pale Waves at the Roundhouse&lt;/a&gt;&lt;/strong&gt;&lt;br&gt;I&amp;#8217;ve seen Pale Waves a few times now and I think they&amp;#8217;ve firmly established their place on my &amp;#8220;see them whenever they tour near me&amp;#8221; list. This show was every bit as good as I&amp;#8217;ve ever seen them.&lt;/li&gt;



&lt;li&gt;&lt;strong&gt;&lt;a href="https://www.songkick.com/concerts/39529194-orchestral-manoeuvres-in-the-dark-at-royal-albert-hall"&gt;Orchestral Manoeuvres in the Dark at the Royal Albert Hall&lt;/a&gt;&lt;/strong&gt;&lt;br&gt;Another band I see whenever I can. This was a slightly different set where the first half was called &amp;#8220;Atmospheric&amp;#8221; and concentrated on some deeper cuts from their back catalogue and the second half included all the hits.&lt;/li&gt;



&lt;li&gt;&lt;strong&gt;&lt;a href="https://www.songkick.com/concerts/39529194-orchestral-manoeuvres-in-the-dark-at-royal-albert-hall"&gt;Chvrches at Brixton Academy&lt;/a&gt;&lt;/strong&gt;&lt;br&gt;In 2020, I moved to a flat that&amp;#8217;s about fifteen minutes&amp;#8217; walk from Brixton Academy. But I had to wait about eighteen months in order to take advantage of that fact. The last couple of times I&amp;#8217;ve seen Chvrches were at Alexandra Palace, so it was nice to see them at a smaller venue again. This show featured a not-entirely unexpected guest appearance from Robert Smith.&lt;/li&gt;



&lt;li&gt;&lt;strong&gt;&lt;a href="https://www.songkick.com/concerts/40060742-sunflower-bean-at-electric-ballroom"&gt;Sunflower Bean at Electric Ballroom&lt;/a&gt;&lt;/strong&gt;&lt;br&gt;Another act who I see live as often as I can. And this was a great venue to see them in.&lt;/li&gt;



&lt;li&gt;&lt;strong&gt;&lt;a href="https://www.songkick.com/concerts/39584368-pet-shop-boys-at-o2"&gt;Pet Shop Boys at the O2 Arena&lt;/a&gt;&lt;/strong&gt;&lt;br&gt;There&amp;#8217;s always one show a year that draws me to the soulless barn that is the O2 Arena. Every time I go there, I vow it&amp;#8217;ll be the last time &amp;#8211; but something always pulls me back. This year it was the chance to see a band I loved in the 80s and have never seen live. This was a fabulous greatest hits show that had been postponed from 2020.&lt;/li&gt;



&lt;li&gt;&lt;strong&gt;&lt;a href="https://www.songkick.com/concerts/39894954-lorde-at-roundhouse"&gt;Lorde at the Roundhouse&lt;/a&gt;&lt;/strong&gt;&lt;br&gt;A new Lorde album means another Lorde tour. And, like Chvrches, she swapped the huge expanse of Alexandra Palace for multiple nights at a smaller venue. This was a very theatrical show that matched the vibe of the &lt;em&gt;Solar Power&lt;/em&gt; album really well.&lt;/li&gt;



&lt;li&gt;&lt;strong&gt;&lt;a href="https://www.songkick.com/concerts/40274226-lcd-soundsystem-at-o2-academy-brixton"&gt;LCD Soundsystem at Brixton Academy&lt;/a&gt;&lt;/strong&gt;&lt;br&gt;Another show at Brixton Academy. For some reason, I didn&amp;#8217;t know about this show until I walked past the venue a few days before and saw the &amp;#8220;sold out&amp;#8221; signs. But a day or so later, I got an email from the venue offering tickets. So I snapped one up and had an amazing evening. It was the first time I&amp;#8217;d seen them, but I strongly suspect it won&amp;#8217;t be the last. That&amp;#8217;s them in the photo at the top of this post.&lt;/li&gt;



&lt;li&gt;&lt;strong&gt;&lt;a href="https://www.songkick.com/concerts/40320756-roxy-music-at-o2"&gt;Roxy Music at the O2 Arena&lt;/a&gt;&lt;/strong&gt;&lt;br&gt;Some years there are two shows that force me to the O2 Arena. And this was one of those years. I&amp;#8217;ve been a fan of Roxy Music since the 70s but I&amp;#8217;ve never seen them live. Honestly, it would have been better to have seen them in the 70s or 80s, but it was still a great show.&lt;/li&gt;



&lt;li&gt;&lt;strong&gt;&lt;a href="https://www.songkick.com/concerts/40313030-beabadoobee-at-o2-academy-brixton"&gt;Beabadoobee at Brixton Academy&lt;/a&gt;&lt;/strong&gt;&lt;br&gt;Sometimes you go to see an artist because of one song and it just works out. This was one of those nights. In fact, it turns out I didn&amp;#8217;t actually know &amp;#8220;Coffee For Your Head&amp;#8221; very well &amp;#8211; I just knew the sample that was used in another artist&amp;#8217;s record. But this was a great night and I hope to see her again very soon.&lt;/li&gt;



&lt;li&gt;&lt;strong&gt;&lt;a href="https://www.songkick.com/concerts/40493394-sugababes-at-eventim-apollo"&gt;Sugababes at Eventim Apollo&lt;/a&gt;&lt;/strong&gt;&lt;br&gt;Another night of fabulous nostalgia. The Eventim Apollo seems to have become my venue of choice to see re-formed girl groups from the 80s and 90s &amp;#8211; having seen Bananarama, All Saints and now The Sugababes there in recent years. They have a surprising number of hits (far more than I remembered before the show) and they put on a great show.&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;Not everything could make the top ten though. I think was the first year that I saw Stealing Sheep and they didn&amp;#8217;t make the list (their stage shows just get weirder and weirder and the Moth Club wasn&amp;#8217;t a great venue for it) and I was astonished to find myself slightly bored at the Nine Inch Nails show at Brixton Academy.&lt;/p&gt;



&lt;p&gt;A few shows sit just outside of the top ten &amp;#8211; St. Vincent at the Eventim Apollo, John Grant at the Shepherd&amp;#8217;s Bush Empire and Damon Albarn at the Barbican spring to mind.&lt;/p&gt;



&lt;p&gt;But, all in all, it was a good year for live music and I&amp;#8217;m looking forward to seeing more than sixteen shows this year.&lt;/p&gt;



&lt;p&gt;Did you see any great shows this year? Tell us about them in the comments.&lt;/p&gt;
&lt;p&gt;The post &lt;a rel="nofollow" href="https://blog.dave.org.uk/2023/02/2022-in-gigs.html"&gt;2022 in Gigs&lt;/a&gt; appeared first on &lt;a rel="nofollow" href="https://blog.dave.org.uk"&gt;Davblog&lt;/a&gt;.&lt;/p&gt;
</content>
    <summary type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p>Rather later than usual (again!) here is my review of the best ten gigs I saw in 2022. For the first time since 2019, I did actually see more than ten gigs in 2022 although my total of sixteen falls well short of my pre-pandemic years. Here are my ten favourite gigs of the year.… <a class="more-link" href="https://blog.dave.org.uk/2023/02/2022-in-gigs.html">Continue reading <span class="screen-reader-text">2022 in Gigs</span></a></p>
<p>The post <a rel="nofollow" href="https://blog.dave.org.uk/2023/02/2022-in-gigs.html">2022 in Gigs</a> appeared first on <a rel="nofollow" href="https://blog.dave.org.uk">Davblog</a>.</p>
</div>
    </summary>
    <author>
      <name>Dave Cross</name>
    </author>
    <id>https://blog.dave.org.uk/?p=3897</id>
    <published>2023-02-03T16:32:37Z</published>
    <updated>2023-02-03T16:32:37Z</updated>
    <category term="music"/>
    <category term="2022"/>
    <category term="gigs"/>
    <category term="review"/>
    <category term="year in gigs"/>
  </entry>
  <entry>
    <title>Updating GitHub Pages using GitHub Actions</title>
    <link rel="alternate" href="https://dev.to/davorg/updating-github-pages-using-github-actions-395a" type="text/html"/>
    <content type="html">&lt;p&gt;I thought it might be fun to show how I spent an hour or so yesterday throwing together a simple web site that is hosted on &lt;a href="https://pages.github.com/"&gt;GitHub Pages&lt;/a&gt; and is updated daily using &lt;a href="https://github.com/features/actions"&gt;GitHub Actions&lt;/a&gt;.&lt;/p&gt;

&lt;h2&gt;
  
  
  An itch to scratch
&lt;/h2&gt;

&lt;p&gt;So many web sites start out with an itch to scratch, and this one is no different. In this case, it was about wanting to stay more informed.&lt;/p&gt;

&lt;p&gt;Each day, the &lt;a href="https://bbc.co.uk/news/"&gt;BBC News web site&lt;/a&gt; publishes a story that shows the front pages of all of the British newspapers. Although a lot of the British press isn't particularly trustworthy, I still think it's good to get an overview of what they're saying about the day's news. So finding and reading this story on the BBC site is one of my morning rituals.&lt;/p&gt;

&lt;p&gt;But they don't make it easy to find the archive of those stories. So it's hard to read anything than the current day's front pages - and even that story tends to vanish from the BBC site by lunchtime. I decided I'd like a page that contains an archive to these stories.&lt;/p&gt;

&lt;h2&gt;
  
  
  Scraping the site
&lt;/h2&gt;

&lt;p&gt;The BBC don't publish an API for their web site, so we need to resort to screen-scraping. That, of course makes the process inherently fragile but it seems to be the best we can do at this stage.&lt;/p&gt;

&lt;p&gt;It wasn't hard to create a program that pulls what I want from the web site using &lt;a href="https://metacpan.org/pod/Web::Query"&gt;Web::Query&lt;/a&gt; (my tool of choice for scraping web sites).&lt;/p&gt;

&lt;p&gt;Of course, having scraped the data, we need to store it somewhere. I decided to store it in a JSON document and worry about displaying it later.&lt;/p&gt;

&lt;p&gt;So here's the code I wrote:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight perl"&gt;&lt;code&gt;&lt;span class="c1"&gt;#!/usr/bin/perl&lt;/span&gt;

&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nv"&gt;strict&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nv"&gt;warnings&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nv"&gt;feature&lt;/span&gt; &lt;span class="p"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;say&lt;/span&gt;&lt;span class="p"&gt;';&lt;/span&gt;

&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;Time::&lt;/span&gt;&lt;span class="nv"&gt;Piece&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;Web::&lt;/span&gt;&lt;span class="nv"&gt;Query&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nv"&gt;JSON&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$site&lt;/span&gt;  &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;https://bbc.co.uk&lt;/span&gt;&lt;span class="p"&gt;';&lt;/span&gt;
&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$start&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;"&lt;/span&gt;&lt;span class="si"&gt;$site&lt;/span&gt;&lt;span class="s2"&gt;/news/&lt;/span&gt;&lt;span class="p"&gt;";&lt;/span&gt;
&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$file&lt;/span&gt;  &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;docs/papers.json&lt;/span&gt;&lt;span class="p"&gt;';&lt;/span&gt;
&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$js_p&lt;/span&gt;  &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;JSON&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nv"&gt;pretty&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nv"&gt;canonical&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$data&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nv"&gt;e&lt;/span&gt; &lt;span class="nv"&gt;$file&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nb"&gt;open&lt;/span&gt; &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$fh&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;&amp;lt;&lt;/span&gt;&lt;span class="p"&gt;',&lt;/span&gt; &lt;span class="nv"&gt;$file&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="nb"&gt;die&lt;/span&gt; &lt;span class="p"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;$!&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="p"&gt;";&lt;/span&gt;
  &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$json&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nb"&gt;local&lt;/span&gt; &lt;span class="vg"&gt;$/&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nv"&gt;$fh&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;};&lt;/span&gt;
  &lt;span class="nv"&gt;$data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$js_p&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nv"&gt;decode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$json&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$start_len&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;@$data&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$q&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;wq&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$start&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="nv"&gt;$q&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nv"&gt;find&lt;/span&gt;&lt;span class="p"&gt;('&lt;/span&gt;&lt;span class="s1"&gt;a&lt;/span&gt;&lt;span class="p"&gt;')&lt;/span&gt;
   &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nb"&gt;each&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;sub &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$elem&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;@_&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;unless&lt;/span&gt; &lt;span class="nv"&gt;$elem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nv"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=~&lt;/span&gt; &lt;span class="sr"&gt;/^The Papers:/&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

  &lt;span class="nb"&gt;push&lt;/span&gt; &lt;span class="nv"&gt;@$data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s"&gt;date&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;localtime&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nv"&gt;strftime&lt;/span&gt;&lt;span class="p"&gt;('&lt;/span&gt;&lt;span class="s1"&gt;%Y-%m-%d&lt;/span&gt;&lt;span class="p"&gt;'),&lt;/span&gt;
    &lt;span class="s"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$elem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nv"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=~&lt;/span&gt; &lt;span class="sr"&gt;s/^The Papers:\s*//r&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="s"&gt;link&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="nv"&gt;$site&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="nv"&gt;$elem&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nv"&gt;attr&lt;/span&gt;&lt;span class="p"&gt;('&lt;/span&gt;&lt;span class="s1"&gt;href&lt;/span&gt;&lt;span class="p"&gt;'),&lt;/span&gt;
  &lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="p"&gt;});&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;@$data&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nv"&gt;$start_len&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nb"&gt;warn&lt;/span&gt; &lt;span class="p"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;No new article found&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="p"&gt;";&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nb"&gt;open&lt;/span&gt; &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$fh&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;',&lt;/span&gt; &lt;span class="nv"&gt;$file&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="nb"&gt;die&lt;/span&gt; &lt;span class="p"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;$!&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="p"&gt;";&lt;/span&gt;
  &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="nv"&gt;$fh&lt;/span&gt; &lt;span class="nv"&gt;$js_p&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nv"&gt;encode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$data&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Nothing too complex there. We look for all of the &lt;code&gt;&amp;lt;a&amp;gt;&lt;/code&gt; tags in the page and ignore the ones that don't contain text starting with "The Papers:". We then extract the information we want (the text, the link and the date) and store that all in the JSON document.&lt;/p&gt;

&lt;p&gt;At that point, I could run the code to create the JSON file. I then created the GitHub repository and turned on GitHub Pages for the repo. Once that was all working, I could browse to &lt;a href="https://davorg.github.io/bbc_papers/papers.json"&gt;https://davorg.github.io/bbc_papers/papers.json&lt;/a&gt; to see the JSON.&lt;/p&gt;

&lt;h2&gt;
  
  
  Doing it every day
&lt;/h2&gt;

&lt;p&gt;We need to run this code every day. That's simple enough with GitHub Actions. We simply add a workflow definition file to the repo. The workflow looks like this:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight yaml"&gt;&lt;code&gt;&lt;span class="na"&gt;name&lt;/span&gt;&lt;span class="pi"&gt;:&lt;/span&gt; &lt;span class="s"&gt;Overnight processing&lt;/span&gt;

&lt;span class="na"&gt;on&lt;/span&gt;&lt;span class="pi"&gt;:&lt;/span&gt;
  &lt;span class="na"&gt;schedule&lt;/span&gt;&lt;span class="pi"&gt;:&lt;/span&gt;
    &lt;span class="pi"&gt;-&lt;/span&gt; &lt;span class="na"&gt;cron&lt;/span&gt;&lt;span class="pi"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="s"&gt;0&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;9&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;*&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;*&lt;/span&gt;&lt;span class="nv"&gt; &lt;/span&gt;&lt;span class="s"&gt;*'&lt;/span&gt;
  &lt;span class="na"&gt;workflow_dispatch&lt;/span&gt;&lt;span class="pi"&gt;:&lt;/span&gt;

&lt;span class="na"&gt;jobs&lt;/span&gt;&lt;span class="pi"&gt;:&lt;/span&gt;
  &lt;span class="na"&gt;build&lt;/span&gt;&lt;span class="pi"&gt;:&lt;/span&gt;
    &lt;span class="na"&gt;runs-on&lt;/span&gt;&lt;span class="pi"&gt;:&lt;/span&gt; &lt;span class="s"&gt;ubuntu-latest&lt;/span&gt;

    &lt;span class="na"&gt;steps&lt;/span&gt;&lt;span class="pi"&gt;:&lt;/span&gt;
    &lt;span class="pi"&gt;-&lt;/span&gt; &lt;span class="na"&gt;name&lt;/span&gt;&lt;span class="pi"&gt;:&lt;/span&gt; &lt;span class="s"&gt;Checkout&lt;/span&gt;
      &lt;span class="na"&gt;uses&lt;/span&gt;&lt;span class="pi"&gt;:&lt;/span&gt; &lt;span class="s"&gt;actions/checkout@v3&lt;/span&gt;

    &lt;span class="pi"&gt;-&lt;/span&gt; &lt;span class="na"&gt;name&lt;/span&gt;&lt;span class="pi"&gt;:&lt;/span&gt; &lt;span class="s"&gt;Install cpanm&lt;/span&gt;
      &lt;span class="na"&gt;run&lt;/span&gt;&lt;span class="pi"&gt;:&lt;/span&gt; &lt;span class="s"&gt;sudo apt update &amp;amp;&amp;amp; sudo apt install cpanminus&lt;/span&gt;

    &lt;span class="pi"&gt;-&lt;/span&gt; &lt;span class="na"&gt;name&lt;/span&gt;&lt;span class="pi"&gt;:&lt;/span&gt; &lt;span class="s"&gt;Install dependencies&lt;/span&gt;
      &lt;span class="na"&gt;run&lt;/span&gt;&lt;span class="pi"&gt;:&lt;/span&gt; &lt;span class="s"&gt;sudo cpanm -n --installdeps .&lt;/span&gt;

    &lt;span class="pi"&gt;-&lt;/span&gt; &lt;span class="na"&gt;name&lt;/span&gt;&lt;span class="pi"&gt;:&lt;/span&gt; &lt;span class="s"&gt;Add data&lt;/span&gt;
      &lt;span class="na"&gt;run&lt;/span&gt;&lt;span class="pi"&gt;:&lt;/span&gt; &lt;span class="s"&gt;./get_link&lt;/span&gt;

    &lt;span class="pi"&gt;-&lt;/span&gt; &lt;span class="na"&gt;name&lt;/span&gt;&lt;span class="pi"&gt;:&lt;/span&gt; &lt;span class="s"&gt;Commit new page&lt;/span&gt;
      &lt;span class="na"&gt;run&lt;/span&gt;&lt;span class="pi"&gt;:&lt;/span&gt; &lt;span class="pi"&gt;|&lt;/span&gt;
        &lt;span class="s"&gt;GIT_STATUS=$(git status --porcelain)&lt;/span&gt;
        &lt;span class="s"&gt;echo $GIT_STATUS&lt;/span&gt;
        &lt;span class="s"&gt;git config user.name github-actions[bot]&lt;/span&gt;
        &lt;span class="s"&gt;git config user.email 41898282+github-actions[bot]@users.noreply.github.com&lt;/span&gt;
        &lt;span class="s"&gt;git add docs/&lt;/span&gt;
        &lt;span class="s"&gt;if [ "$GIT_STATUS" != "" ]; then git commit -m "Overnight job"; fi&lt;/span&gt;
        &lt;span class="s"&gt;if [ "$GIT_STATUS" != "" ]; then git push; fi&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;Again, this is all pretty much standard stuff. We run the workflow on a Ubuntu container. It's a three-phase process:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Install everything we need&lt;/li&gt;
&lt;li&gt;Run the program to get the new data&lt;/li&gt;
&lt;li&gt;Commit the new data file to the repo&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Note that the workflow is triggered in two ways:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;It runs at 09:00 every morning&lt;/li&gt;
&lt;li&gt;You can run it manually from the Actions tab in the repo (that's what the &lt;code&gt;workflow_dispatch&lt;/code&gt; line does)&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;
  
  
  Displaying our wares
&lt;/h2&gt;

&lt;p&gt;Having got a daily build of the data, we need to create a web page to display it. I'm not a web designer, so this is going to be necessarily basic. I threw together a simple page using &lt;a href="https://getbootstrap.com/"&gt;Bootstrap&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The next step was to grab the &lt;code&gt;papers.json&lt;/code&gt; document, parse it and then display it on the page. Now, I can wrangle Javascript pretty successfully most of the time. but I wanted to get this working as quickly as possible, so I asked ChatGPT for some help. It only took a few iterations for it to give me this code:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight javascript"&gt;&lt;code&gt; &lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;addEventListener&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;DOMContentLoaded&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="p"&gt;(){&lt;/span&gt;
    &lt;span class="nx"&gt;fetch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;papers.json&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;then&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="nx"&gt;response&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;json&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
    &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;then&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;tableBody&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;querySelector&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;table tbody&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="nx"&gt;data&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;forEach&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;item&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;row&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;createElement&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;tr&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;date&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;createElement&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;td&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="nx"&gt;date&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;textContent&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;item&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;date&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="nx"&gt;row&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;appendChild&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;date&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;textLink&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;createElement&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;td&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;createElement&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;a&lt;/span&gt;&lt;span class="dl"&gt;"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="nx"&gt;a&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;href&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;item&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;link&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="nx"&gt;a&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;textContent&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;item&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;text&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="nx"&gt;textLink&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;appendChild&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;a&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="nx"&gt;row&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;appendChild&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;textLink&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="nx"&gt;tableBody&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;appendChild&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;row&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="p"&gt;});&lt;/span&gt;
    &lt;span class="p"&gt;});&lt;/span&gt;
&lt;span class="p"&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;It didn't work first time. But that's because I'm an idiot and didn't tell ChatGPT the name of my JSON document or how to correctly identify the &lt;code&gt;&amp;lt;table&amp;gt;&lt;/code&gt; element in the HTML. But once I'd corrected my errors it all worked perfectly.&lt;/p&gt;

&lt;h2&gt;
  
  
  Summing up
&lt;/h2&gt;

&lt;p&gt;So that's how I spent yesterday's lunch break. I can now see an archive of the BBC's stories about each day'd front pages by just going to:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="https://davorg.github.io/bbc_papers/"&gt;https://davorg.github.io/bbc_papers/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Of course, just after I'd written it, I (once again) had a look to see if someone else had created something similar and found the &lt;a href="https://www.bbc.co.uk/news/topics/cpml2v678pxt"&gt;BBC's page&lt;/a&gt; listing all of the stories. Ah well, I had fun putting my version together.&lt;/p&gt;

&lt;p&gt;All of this code is available &lt;a href="https://github.com/davorg/bbc_papers"&gt;on GitHub&lt;/a&gt;.&lt;/p&gt;

</content>
    <author>
      <name>Dave Cross</name>
    </author>
    <id>https://dev.to/davorg/updating-github-pages-using-github-actions-395a</id>
    <published>2023-01-13T16:04:05Z</published>
    <updated>2023-01-13T16:04:05Z</updated>
    <category term="perl"/>
    <category term="github"/>
    <category term="githubpages"/>
    <category term="githubactions"/>
  </entry>
  <entry>
    <title>Robo-committer for automated commits</title>
    <link rel="alternate" href="https://dev.to/davorg/robo-committer-for-automated-commits-2kba" type="text/html"/>
    <content type="html">&lt;p&gt;That's an screenshot of &lt;a href="https://github.com/davorg/"&gt;my GitHub contributions&lt;/a&gt; for the last year. Almost 50,000 commits is a ridiculous number for one person to make in a year. Obviously I had some help.&lt;/p&gt;

&lt;p&gt;The explanation is in my previous article &lt;a href="https://dev.to/davorg/github-actions-for-semi-static-web-sites-597g"&gt;GitHub Actions for semi-static web sites&lt;/a&gt;. In that article I explained how I was using GitHub Actions to rebuild a number of web sites every few hours. It doesn't take very many of those web sites before you start getting into dozens of automated commits every day. And it is, of course, those automated commits that are artificially inflating my commit count.&lt;/p&gt;

&lt;p&gt;This has been mildly worrying me over the last year. I decided that I needed to do something about it. I needed to find a way to separate my real commits from these automated ones.&lt;/p&gt;

&lt;p&gt;The previous article includes a sample GitHub Workflow file that I was using to run these sites. And it's easy to see what's causing the problem. There's a step that commits the newly-generated site and that step includes the following:&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;git config --global user.name 'Dave Cross'
git config --global user.email 'my email address'
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;p&gt;That email address is associated with my GitHub account and, therefore, those commits are seen as being made by me.&lt;/p&gt;

&lt;p&gt;A few weeks ago, I made the first step towards fixing this. I changed that configuration to this:&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;git config --global user.name 'Automated Workflow'
git config --global user.email "${GITHUB_ACTOR}@users.noreply.github.com"
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;p&gt;We're using a more descriptive name and an email address that GitHub generates for us based on the username of the user who is running the workflow. This is better (as it won't assign commits to me if someone were to fork my repo and run the workflow) but it's still using an email address which GitHub has assigned to me and, therefore, the automated commits are still associated with me.&lt;/p&gt;

&lt;p&gt;Yesterday I had another dig into this problem and I have found the solution. The new version I use it this:&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;git config user.name github-actions[bot]
git config user.email 41898282+github-actions[bot]@users.noreply.github.com
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;

&lt;p&gt;It turns out that there is a special GitHub user account that can be used to commit to your repos. This user is specifically there to solve the exact problem that I wanted to solve. It's just not particularly well-documented (or, if it is, it's not in the documentation that I've been looking at!)&lt;/p&gt;

&lt;p&gt;You might notice that I've also removed the &lt;code&gt;--global&lt;/code&gt; setting from the commands. On reflection, it seemed pointless to make global changes on a Docker container that is going to cease to exist in a minute or so.&lt;/p&gt;

&lt;p&gt;So that's what I now use on all of my workflows that regenerate web sites. It will mean that I make substantially fewer commits this year and I can no longer be accused of trying to game the system in order to artificially inflate my number of commits.&lt;/p&gt;

&lt;p&gt;Oh, and as a bonus, the GitHub Actions Bot has its own Octocat avatar that now appears in the commits for my repos.&lt;/p&gt;

&lt;p&gt;&lt;a href="https://res.cloudinary.com/practicaldev/image/fetch/s--te-jPozW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/1p8uxysiucvdrqcf3p1f.png" class="article-body-image-wrapper"&gt;&lt;img src="https://res.cloudinary.com/practicaldev/image/fetch/s--te-jPozW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/1p8uxysiucvdrqcf3p1f.png" alt="GitHub commits" width="880" height="253"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It's possible, of course, that I'm the last person in the world to realise this. But, hopefully, sharing the information will be useful to someone out there.&lt;/p&gt;

</content>
    <author>
      <name>Dave Cross</name>
    </author>
    <id>https://dev.to/davorg/robo-committer-for-automated-commits-2kba</id>
    <published>2023-01-06T11:59:39Z</published>
    <updated>2023-01-06T11:59:39Z</updated>
    <category term="github"/>
    <category term="githubactions"/>
    <category term="devops"/>
    <category term="commitbot"/>
  </entry>
  <entry>
    <title>Writing a CPAN module that talks to ChatGPT</title>
    <link rel="alternate" href="https://perlhacks.com/2022/12/writing-a-cpan-module-that-talks-to-chatgpt/" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p><a href="https://chat.openai.com/chat">ChatGPT</a> exposes an API, but there’s no CPAN module for taking advantage of that. Let’s put that right (with help from ChatGPT)…</p>
<hr/>
<p><em>Write a Perl CPAN module for connecting to a ChatGPT server</em></p>
<p>To create a Perl CPAN module for connecting to a ChatGPT server, you will need to have Perl and the necessary dependencies installed on your system.</p>
<p>To begin, create a new directory for your module and create a file called “ChatGPT.pm” with the following content:</p><pre class="urvanov-syntax-highlighter-plain-tag">package ChatGPT;

use strict;
use warnings;

use Net::WebSocket::Client;
use Net::WebSocket::Server;
use HTTP::Async;

sub new {
  my ($class, %params) = @_;
  my $self = {
    host =&gt; $params{host},
    port =&gt; $params{port},
  };

  bless $self, $class;

  return $self;
}

sub send_prompt {
  my ($self, $prompt) = @_;

  my $http = HTTP::Async-&gt;new;
  my $client = Net::WebSocket::Client-&gt;new(
    url =&gt; "ws://$self-&gt;{host}:$self-&gt;{port}"
  );

  $client-&gt;connect;
  $client-&gt;send_utf8($prompt);

  my $response = $client-&gt;recv;

  $client-&gt;disconnect;

  return $response;
}

1;</pre><p>To use this module in your Perl code, you can create a new ChatGPT object and call the <code>send_prompt</code> method like this:</p><pre class="urvanov-syntax-highlighter-plain-tag">use ChatGPT;

my $chatgpt = ChatGPT-&gt;new(host =&gt; 'localhost', port =&gt; 8080);
my $response = $chatgpt-&gt;send_prompt('What is your name?');
print "Response: $response\n";</pre><p>This will send the text prompt “What is your name?” to the ChatGPT server running on localhost at port 8080, and print the response to the console.</p>
<p>Note: This is just a basic example of how you can create a Perl CPAN module for connecting to a ChatGPT server. There are many other features and considerations that you may want to add to your module, such as error handling and customization options.</p>
<p>To make your module available on CPAN, you will need to follow the guidelines for creating and distributing CPAN modules, which can be found in the Perl documentation and online resources.</p>
<p><em>Use Moose to create the class</em></p>
<p>To use Moose to create the <code>ChatGPT</code> class, you will need to have Moose installed on your system. You can install Moose by running the following command:</p><pre class="urvanov-syntax-highlighter-plain-tag">cpanm Moose</pre><p>With Moose installed, you can modify the class like this:</p><pre class="urvanov-syntax-highlighter-plain-tag">package ChatGPT;

use Moose;
use Net::WebSocket::Client;
use Net::WebSocket::Server;
use HTTP::Async;

has host =&gt; (
  is =&gt; 'ro',
  isa =&gt; 'Str',
  required =&gt; 1,
);

has port =&gt; (
  is =&gt; 'ro',
  isa =&gt; 'Int', required =&gt; 1,
);

sub send_prompt {
  my ($self, $prompt) = @_;

  my $http = HTTP::Async-&gt;new;
  my $client = Net::WebSocket::Client-&gt;new(
    url =&gt; "ws://$self-&gt;{host}:$self-&gt;{port}"
  );

  $client-&gt;connect; $client-&gt;send_utf8($prompt);
  my $response = $client-&gt;recv;
  $client-&gt;disconnect;

  return $response;
}

1;</pre><p>In this version of the class, the <code>host</code> and <code>port</code> attributes are defined using Moose’s <code>has</code> keyword. These attributes are required and must be specified when creating a new <code>ChatGPT</code> object. The <code>send_prompt</code> method is unchanged from the previous example.</p>
<p>To create a new <code>ChatGPT</code> object, you can use the <code>new</code> method provided by Moose like this:</p><pre class="urvanov-syntax-highlighter-plain-tag">use ChatGPT;

my $chatgpt = ChatGPT-&gt;new(host =&gt; 'localhost', port =&gt; 8080);

my $response = $chatgpt-&gt;send_prompt('What is your name?');

print "Response: $response\n";</pre><p>This will create a new <code>ChatGPT</code> object with the specified <code>host</code> and <code>port</code> attributes, and send the text prompt “What is your name?” to the ChatGPT server running on localhost at port 8080. The response will be printed to the console.</p>
<p>Note: This is just one way to use Moose to create the <code>ChatGPT</code> class. There are many other features and customization options available in Moose that you may want to consider adding to your class, such as type constraints, default values, and methods.</p>
<p><em>Call the class WebService::ChatGPT</em></p>
<p>To rename the <code>ChatGPT</code> class to <code>WebService::ChatGPT</code>, you will need to update the package name at the top of the file and update the <code>use</code> statements to refer to the new package name.</p>
<p>Here is how you can update the <code>ChatGPT</code> class to use the new package name:</p><pre class="urvanov-syntax-highlighter-plain-tag">package WebService::ChatGPT;

use Moose;
use Net::WebSocket::Client;
use Net::WebSocket::Server;

use HTTP::Async;

has host =&gt; (
  is =&gt; 'ro',
  isa =&gt; 'Str',
  required =&gt; 1,
);

has port =&gt; (
  is =&gt; 'ro',
  isa =&gt; 'Int',
  required =&gt; 1,
);

sub send_prompt {
  my ($self, $prompt) = @_;

  my $http = HTTP::Async-&gt;new;
  my $client = Net::WebSocket::Client-&gt;new(
    url =&gt; "ws://$self-&gt;{host}:$self-&gt;{port}"
  );

  $client-&gt;connect; $client-&gt;send_utf8($prompt);
  my $response = $client-&gt;recv;
  $client-&gt;disconnect;

  return $response;
}

1;</pre><p>With these changes, the class is now called <code>WebService::ChatGPT</code> and can be used like this:</p><pre class="urvanov-syntax-highlighter-plain-tag">use WebService::ChatGPT;

my $chatgpt = WebService::ChatGPT-&gt;new(host =&gt; 'localhost', port =&gt; 8080);

my $response = $chatgpt-&gt;send_prompt('What is your name?');
print "Response: $response\n";</pre><p>This will create a new <code>WebService::ChatGPT</code> object with the specified <code>host</code> and <code>port</code> attributes, and send the text prompt “What is your name?” to the ChatGPT server running on localhost at port 8080. The response will be printed to the console.,/p&gt;</p>
<p>Note: This is just one way to rename the <code>ChatGPT</code> class to <code>WebService::ChatGPT</code>. You may also need to update any other references to the class name in your code and documentation, as well as update the module file name and directory structure to reflect the new package name.</p>
<p><em>Suggest some tests using the standard Perl testing framework</em></p>
<p>Here are some examples of tests that you could write for the <code>WebService::ChatGPT</code> module using the standard Perl testing framework (Test::More):</p><pre class="urvanov-syntax-highlighter-plain-tag">use Test::More;
use WebService::ChatGPT;

# Test creating a new ChatGPT object
my $chatgpt = WebService::ChatGPT-&gt;new(host =&gt; 'localhost', port =&gt; 8080);
isa_ok($chatgpt, 'WebService::ChatGPT', 'Object is a ChatGPT');

# Test sending a prompt and receiving a response
my $response = $chatgpt-&gt;send_prompt('What is your name?');
is($response, 'My name is ChatGPT.', 'Response is correct');

# Test sending an invalid prompt
eval { $chatgpt-&gt;send_prompt('') };
like($@, qr/Invalid prompt/, 'Invalid prompt error is thrown');

done_testing();</pre><p>The first test uses the <code>isa_ok</code> function to check that the object created by the <code>new</code> method is an instance of the <code>WebService::ChatGPT</code> class.</p>
<p>The second test uses the <code>is</code> function to compare the expected response to the actual response returned by the <code>send_prompt</code> method.</p>
<p>The third test uses the <code>eval</code> function to catch any exceptions thrown by the <code>send_prompt</code> method when an invalid prompt is provided, and the <code>like</code> function to check that the exception message matches the expected error message.</p>
<p>These tests can be run using the <code>prove</code> command:</p><pre class="urvanov-syntax-highlighter-plain-tag">prove -l t/chatgpt.t</pre><p/>
<hr/>
<p>I haven’t uploaded it to CPAN yet. Do you think I should?</p>
<p>The post <a rel="nofollow" href="https://perlhacks.com/2022/12/writing-a-cpan-module-that-talks-to-chatgpt/">Writing a CPAN module that talks to ChatGPT</a> appeared first on <a rel="nofollow" href="https://perlhacks.com">Perl Hacks</a>.</p>
</div>
    </content>
    <summary type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p>ChatGPT exposes an API, but there’s no CPAN module for taking advantage of that. Let’s put that right (with help from ChatGPT)… Write a Perl CPAN module for connecting to a ChatGPT server To create a Perl CPAN module for connecting to a ChatGPT server, you will need to have Perl and the necessary dependencies… <a class="more-link" href="https://perlhacks.com/2022/12/writing-a-cpan-module-that-talks-to-chatgpt/">Continue reading <span class="screen-reader-text">Writing a CPAN module that talks to ChatGPT</span></a></p>
<p>The post <a rel="nofollow" href="https://perlhacks.com/2022/12/writing-a-cpan-module-that-talks-to-chatgpt/">Writing a CPAN module that talks to ChatGPT</a> appeared first on <a rel="nofollow" href="https://perlhacks.com">Perl Hacks</a>.</p>
</div>
    </summary>
    <author>
      <name>Dave Cross</name>
    </author>
    <id>https://perlhacks.com/?p=2093</id>
    <published>2022-12-20T16:12:38Z</published>
    <updated>2022-12-20T16:12:38Z</updated>
    <category term="Programming"/>
    <category term="ai"/>
    <category term="chatgpt"/>
    <category term="cpan"/>
    <category term="programming"/>
  </entry>
  <entry>
    <title>Writing a CPAN module that talks to ChatGPT</title>
    <link rel="alternate" href="https://dev.to/davorg/writing-a-cpan-module-that-talks-to-chatgpt-gb5" type="text/html"/>
    <content type="html">&lt;p&gt;&lt;a href="https://chat.openai.com/chat"&gt;ChatGPT&lt;/a&gt; exposes an API, but there’s no CPAN module for taking advantage of that. Let’s put that right (with help from ChatGPT)…&lt;/p&gt;




&lt;p&gt;&lt;em&gt;Write a Perl CPAN module for connecting to a ChatGPT server&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;To create a Perl CPAN module for connecting to a ChatGPT server, you will need to have Perl and the necessary dependencies installed on your system.&lt;/p&gt;

&lt;p&gt;To begin, create a new directory for your module and create a file called “ChatGPT.pm” with the following content:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight perl"&gt;&lt;code&gt;&lt;span class="nb"&gt;package&lt;/span&gt; &lt;span class="nv"&gt;ChatGPT&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nv"&gt;strict&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nv"&gt;warnings&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;Net::WebSocket::&lt;/span&gt;&lt;span class="nv"&gt;Client&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;Net::WebSocket::&lt;/span&gt;&lt;span class="nv"&gt;Server&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;HTTP::&lt;/span&gt;&lt;span class="nv"&gt;Async&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;sub &lt;/span&gt;&lt;span class="nf"&gt;new&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$class&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;%params&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;@_&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$self&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s"&gt;host&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="nv"&gt;$params&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nv"&gt;host&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
    &lt;span class="s"&gt;port&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="nv"&gt;$params&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nv"&gt;port&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
  &lt;span class="p"&gt;};&lt;/span&gt;

  &lt;span class="nb"&gt;bless&lt;/span&gt; &lt;span class="nv"&gt;$self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$class&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nv"&gt;$self&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;sub &lt;/span&gt;&lt;span class="nf"&gt;send_prompt&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$prompt&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;@_&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

  &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$http&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nn"&gt;HTTP::&lt;/span&gt;&lt;span class="nv"&gt;Async&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$client&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nn"&gt;Net::WebSocket::&lt;/span&gt;&lt;span class="nv"&gt;Client&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="s"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;ws://&lt;/span&gt;&lt;span class="si"&gt;$self&lt;/span&gt;&lt;span class="s2"&gt;-&amp;gt;{host}:&lt;/span&gt;&lt;span class="si"&gt;$self&lt;/span&gt;&lt;span class="s2"&gt;-&amp;gt;{port}&lt;/span&gt;&lt;span class="p"&gt;"&lt;/span&gt;
  &lt;span class="p"&gt;);&lt;/span&gt;

  &lt;span class="nv"&gt;$client&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nb"&gt;connect&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="nv"&gt;$client&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nv"&gt;send_utf8&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$prompt&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

  &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$client&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nb"&gt;recv&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

  &lt;span class="nv"&gt;$client&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nv"&gt;disconnect&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nv"&gt;$response&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;To use this module in your Perl code, you can create a new ChatGPT object and call the &lt;code&gt;send_prompt&lt;/code&gt; method like this:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight perl"&gt;&lt;code&gt;&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nv"&gt;ChatGPT&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$chatgpt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;ChatGPT&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;host&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;localhost&lt;/span&gt;&lt;span class="p"&gt;',&lt;/span&gt; &lt;span class="s"&gt;port&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;8080&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$chatgpt&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nv"&gt;send_prompt&lt;/span&gt;&lt;span class="p"&gt;('&lt;/span&gt;&lt;span class="s1"&gt;What is your name?&lt;/span&gt;&lt;span class="p"&gt;');&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="p"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;Response: &lt;/span&gt;&lt;span class="si"&gt;$response&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="p"&gt;";&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;This will send the text prompt “What is your name?” to the ChatGPT server running on localhost at port 8080, and print the response to the console.&lt;/p&gt;

&lt;p&gt;Note: This is just a basic example of how you can create a Perl CPAN module for connecting to a ChatGPT server. There are many other features and considerations that you may want to add to your module, such as error handling and customization options.&lt;/p&gt;

&lt;p&gt;To make your module available on CPAN, you will need to follow the guidelines for creating and distributing CPAN modules, which can be found in the Perl documentation and online resources.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Use Moose to create the class&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;To use Moose to create the &lt;code&gt;ChatGPT&lt;/code&gt; class, you will need to have Moose installed on your system. You can install Moose by running the following command:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight shell"&gt;&lt;code&gt;cpanm Moose
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;With Moose installed, you can modify the class like this:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight perl"&gt;&lt;code&gt;&lt;span class="nb"&gt;package&lt;/span&gt; &lt;span class="nv"&gt;ChatGPT&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nv"&gt;Moose&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;Net::WebSocket::&lt;/span&gt;&lt;span class="nv"&gt;Client&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;Net::WebSocket::&lt;/span&gt;&lt;span class="nv"&gt;Server&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;HTTP::&lt;/span&gt;&lt;span class="nv"&gt;Async&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="nv"&gt;has&lt;/span&gt; &lt;span class="s"&gt;host&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
  &lt;span class="s"&gt;is&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;ro&lt;/span&gt;&lt;span class="p"&gt;',&lt;/span&gt;
  &lt;span class="s"&gt;isa&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;Str&lt;/span&gt;&lt;span class="p"&gt;',&lt;/span&gt;
  &lt;span class="s"&gt;required&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="nv"&gt;has&lt;/span&gt; &lt;span class="s"&gt;port&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
  &lt;span class="s"&gt;is&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;ro&lt;/span&gt;&lt;span class="p"&gt;',&lt;/span&gt;
  &lt;span class="s"&gt;isa&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;Int&lt;/span&gt;&lt;span class="p"&gt;',&lt;/span&gt; &lt;span class="s"&gt;required&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="k"&gt;sub &lt;/span&gt;&lt;span class="nf"&gt;send_prompt&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$prompt&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;@_&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

  &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$http&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nn"&gt;HTTP::&lt;/span&gt;&lt;span class="nv"&gt;Async&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$client&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nn"&gt;Net::WebSocket::&lt;/span&gt;&lt;span class="nv"&gt;Client&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="s"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;ws://&lt;/span&gt;&lt;span class="si"&gt;$self&lt;/span&gt;&lt;span class="s2"&gt;-&amp;gt;{host}:&lt;/span&gt;&lt;span class="si"&gt;$self&lt;/span&gt;&lt;span class="s2"&gt;-&amp;gt;{port}&lt;/span&gt;&lt;span class="p"&gt;"&lt;/span&gt;
  &lt;span class="p"&gt;);&lt;/span&gt;

  &lt;span class="nv"&gt;$client&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nb"&gt;connect&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="nv"&gt;$client&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nv"&gt;send_utf8&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$prompt&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

  &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$client&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nb"&gt;recv&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="nv"&gt;$client&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nv"&gt;disconnect&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nv"&gt;$response&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;In this version of the class, the &lt;code&gt;host&lt;/code&gt; and &lt;code&gt;port&lt;/code&gt; attributes are defined using Moose’s &lt;code&gt;has&lt;/code&gt; keyword. These attributes are required and must be specified when creating a new &lt;code&gt;ChatGPT&lt;/code&gt; object. The &lt;code&gt;send_prompt&lt;/code&gt; method is unchanged from the previous example.&lt;/p&gt;

&lt;p&gt;To create a new &lt;code&gt;ChatGPT&lt;/code&gt; object, you can use the &lt;code&gt;new&lt;/code&gt; method provided by Moose like this:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight perl"&gt;&lt;code&gt;&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nv"&gt;ChatGPT&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$chatgpt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;ChatGPT&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;host&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;localhost&lt;/span&gt;&lt;span class="p"&gt;',&lt;/span&gt; &lt;span class="s"&gt;port&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;8080&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$chatgpt&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nv"&gt;send_prompt&lt;/span&gt;&lt;span class="p"&gt;('&lt;/span&gt;&lt;span class="s1"&gt;What is your name?&lt;/span&gt;&lt;span class="p"&gt;');&lt;/span&gt;

&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="p"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;Response: &lt;/span&gt;&lt;span class="si"&gt;$response&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="p"&gt;";&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;This will create a new &lt;code&gt;ChatGPT&lt;/code&gt; object with the specified &lt;code&gt;host&lt;/code&gt; and &lt;code&gt;port&lt;/code&gt; attributes, and send the text prompt “What is your name?” to the ChatGPT server running on localhost at port 8080. The response will be printed to the console.&lt;/p&gt;

&lt;p&gt;Note: This is just one way to use Moose to create the &lt;code&gt;ChatGPT&lt;/code&gt; class. There are many other features and customization options available in Moose that you may want to consider adding to your class, such as type constraints, default values, and methods.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Call the class WebService::ChatGPT&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;To rename the &lt;code&gt;ChatGPT&lt;/code&gt; class to &lt;code&gt;WebService::ChatGPT&lt;/code&gt;, you will need to update the package name at the top of the file and update the &lt;code&gt;use&lt;/code&gt; statements to refer to the new package name.&lt;/p&gt;

&lt;p&gt;Here is how you can update the &lt;code&gt;ChatGPT&lt;/code&gt; class to use the new package name:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight perl"&gt;&lt;code&gt;&lt;span class="nb"&gt;package&lt;/span&gt; &lt;span class="nn"&gt;WebService::&lt;/span&gt;&lt;span class="nv"&gt;ChatGPT&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nv"&gt;Moose&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;Net::WebSocket::&lt;/span&gt;&lt;span class="nv"&gt;Client&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;Net::WebSocket::&lt;/span&gt;&lt;span class="nv"&gt;Server&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;HTTP::&lt;/span&gt;&lt;span class="nv"&gt;Async&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="nv"&gt;has&lt;/span&gt; &lt;span class="s"&gt;host&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
  &lt;span class="s"&gt;is&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;ro&lt;/span&gt;&lt;span class="p"&gt;',&lt;/span&gt;
  &lt;span class="s"&gt;isa&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;Str&lt;/span&gt;&lt;span class="p"&gt;',&lt;/span&gt;
  &lt;span class="s"&gt;required&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="nv"&gt;has&lt;/span&gt; &lt;span class="s"&gt;port&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
  &lt;span class="s"&gt;is&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;ro&lt;/span&gt;&lt;span class="p"&gt;',&lt;/span&gt;
  &lt;span class="s"&gt;isa&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;Int&lt;/span&gt;&lt;span class="p"&gt;',&lt;/span&gt;
  &lt;span class="s"&gt;required&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="k"&gt;sub &lt;/span&gt;&lt;span class="nf"&gt;send_prompt&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$prompt&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;@_&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

  &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$http&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nn"&gt;HTTP::&lt;/span&gt;&lt;span class="nv"&gt;Async&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$client&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nn"&gt;Net::WebSocket::&lt;/span&gt;&lt;span class="nv"&gt;Client&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="s"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;ws://&lt;/span&gt;&lt;span class="si"&gt;$self&lt;/span&gt;&lt;span class="s2"&gt;-&amp;gt;{host}:&lt;/span&gt;&lt;span class="si"&gt;$self&lt;/span&gt;&lt;span class="s2"&gt;-&amp;gt;{port}&lt;/span&gt;&lt;span class="p"&gt;"&lt;/span&gt;
  &lt;span class="p"&gt;);&lt;/span&gt;

  &lt;span class="nv"&gt;$client&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nb"&gt;connect&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="nv"&gt;$client&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nv"&gt;send_utf8&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$prompt&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

  &lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$client&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nb"&gt;recv&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="nv"&gt;$client&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nv"&gt;disconnect&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

  &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nv"&gt;$response&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;With these changes, the class is now called &lt;code&gt;WebService::ChatGPT&lt;/code&gt; and can be used like this:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight perl"&gt;&lt;code&gt;&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;WebService::&lt;/span&gt;&lt;span class="nv"&gt;ChatGPT&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$chatgpt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nn"&gt;WebService::&lt;/span&gt;&lt;span class="nv"&gt;ChatGPT&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;host&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;localhost&lt;/span&gt;&lt;span class="p"&gt;',&lt;/span&gt; &lt;span class="s"&gt;port&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;8080&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$chatgpt&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nv"&gt;send_prompt&lt;/span&gt;&lt;span class="p"&gt;('&lt;/span&gt;&lt;span class="s1"&gt;What is your name?&lt;/span&gt;&lt;span class="p"&gt;');&lt;/span&gt;
&lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="p"&gt;"&lt;/span&gt;&lt;span class="s2"&gt;Response: &lt;/span&gt;&lt;span class="si"&gt;$response&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="p"&gt;";&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;This will create a new &lt;code&gt;WebService::ChatGPT&lt;/code&gt; object with the specified &lt;code&gt;host&lt;/code&gt; and &lt;code&gt;port&lt;/code&gt; attributes, and send the text prompt “What is your name?” to the ChatGPT server running on localhost at port 8080. The response will be printed to the console.,/p&amp;gt;&lt;/p&gt;

&lt;p&gt;Note: This is just one way to rename the &lt;code&gt;ChatGPT&lt;/code&gt; class to &lt;code&gt;WebService::ChatGPT&lt;/code&gt;. You may also need to update any other references to the class name in your code and documentation, as well as update the module file name and directory structure to reflect the new package name.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Suggest some tests using the standard Perl testing framework&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Here are some examples of tests that you could write for the &lt;code&gt;WebService::ChatGPT&lt;/code&gt; module using the standard Perl testing framework (Test::More):&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight perl"&gt;&lt;code&gt;&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;Test::&lt;/span&gt;&lt;span class="nv"&gt;More&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;use&lt;/span&gt; &lt;span class="nn"&gt;WebService::&lt;/span&gt;&lt;span class="nv"&gt;ChatGPT&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="c1"&gt;# Test creating a new ChatGPT object&lt;/span&gt;
&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$chatgpt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nn"&gt;WebService::&lt;/span&gt;&lt;span class="nv"&gt;ChatGPT&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;host&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;localhost&lt;/span&gt;&lt;span class="p"&gt;',&lt;/span&gt; &lt;span class="s"&gt;port&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;8080&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="nv"&gt;isa_ok&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$chatgpt&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;WebService::ChatGPT&lt;/span&gt;&lt;span class="p"&gt;',&lt;/span&gt; &lt;span class="p"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;Object is a ChatGPT&lt;/span&gt;&lt;span class="p"&gt;');&lt;/span&gt;

&lt;span class="c1"&gt;# Test sending a prompt and receiving a response&lt;/span&gt;
&lt;span class="k"&gt;my&lt;/span&gt; &lt;span class="nv"&gt;$response&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$chatgpt&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nv"&gt;send_prompt&lt;/span&gt;&lt;span class="p"&gt;('&lt;/span&gt;&lt;span class="s1"&gt;What is your name?&lt;/span&gt;&lt;span class="p"&gt;');&lt;/span&gt;
&lt;span class="nv"&gt;is&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$response&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;My name is ChatGPT.&lt;/span&gt;&lt;span class="p"&gt;',&lt;/span&gt; &lt;span class="p"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;Response is correct&lt;/span&gt;&lt;span class="p"&gt;');&lt;/span&gt;

&lt;span class="c1"&gt;# Test sending an invalid prompt&lt;/span&gt;
&lt;span class="nb"&gt;eval&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nv"&gt;$chatgpt&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="nv"&gt;send_prompt&lt;/span&gt;&lt;span class="p"&gt;('')&lt;/span&gt; &lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="nv"&gt;like&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="vg"&gt;$@&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="sx"&gt;qr/Invalid prompt/&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;'&lt;/span&gt;&lt;span class="s1"&gt;Invalid prompt error is thrown&lt;/span&gt;&lt;span class="p"&gt;');&lt;/span&gt;

&lt;span class="nv"&gt;done_testing&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;



&lt;p&gt;The first test uses the &lt;code&gt;isa_ok&lt;/code&gt; function to check that the object created by the &lt;code&gt;new&lt;/code&gt; method is an instance of the &lt;code&gt;WebService::ChatGPT&lt;/code&gt; class.&lt;/p&gt;

&lt;p&gt;The second test uses the &lt;code&gt;is&lt;/code&gt; function to compare the expected response to the actual response returned by the &lt;code&gt;send_prompt&lt;/code&gt; method.&lt;/p&gt;

&lt;p&gt;The third test uses the &lt;code&gt;eval&lt;/code&gt; function to catch any exceptions thrown by the &lt;code&gt;send_prompt&lt;/code&gt; method when an invalid prompt is provided, and the &lt;code&gt;like&lt;/code&gt; function to check that the exception message matches the expected error message.&lt;/p&gt;

&lt;p&gt;These tests can be run using the &lt;code&gt;prove&lt;/code&gt; command:&lt;br&gt;
&lt;/p&gt;

&lt;div class="highlight js-code-highlight"&gt;
&lt;pre class="highlight shell"&gt;&lt;code&gt;prove &lt;span class="nt"&gt;-l&lt;/span&gt; t/chatgpt.t
&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;






&lt;p&gt;I haven’t uploaded it to CPAN yet. Do you think I should?&lt;/p&gt;

&lt;p&gt;The post &lt;a href="https://perlhacks.com/2022/12/writing-a-cpan-module-that-talks-to-chatgpt/"&gt;Writing a CPAN module that talks to ChatGPT&lt;/a&gt; appeared first on &lt;a href="https://perlhacks.com"&gt;Perl Hacks&lt;/a&gt;.&lt;/p&gt;

</content>
    <author>
      <name>Dave Cross</name>
    </author>
    <id>https://dev.to/davorg/writing-a-cpan-module-that-talks-to-chatgpt-gb5</id>
    <published>2022-12-20T16:12:38Z</published>
    <updated>2022-12-20T16:12:38Z</updated>
    <category term="programming"/>
    <category term="ai"/>
    <category term="chatgpt"/>
    <category term="cpan"/>
  </entry>
  <entry>
    <title>5 Reasons Why Using AI to Generate Blog Posts Can Destroy Your SEO</title>
    <link rel="alternate" href="https://davorg.medium.com/5-reasons-why-using-ai-to-generate-blog-posts-can-destroy-your-seo-f8db298de65b?source=rss-3781feb8a4f4------2" type="text/html"/>
    <content type="html">&lt;div class="medium-feed-item"&gt;&lt;p class="medium-feed-image"&gt;&lt;a href="https://davorg.medium.com/5-reasons-why-using-ai-to-generate-blog-posts-can-destroy-your-seo-f8db298de65b?source=rss-3781feb8a4f4------2"&gt;&lt;img src="https://cdn-images-1.medium.com/max/1568/0*g61hVmjPNir439PR.jpg" width="1568"&gt;&lt;/a&gt;&lt;/p&gt;&lt;p class="medium-feed-snippet"&gt;Using artificial intelligence (AI) to generate blog posts can be bad for search engine optimization (SEO) for several reasons.&lt;/p&gt;&lt;p class="medium-feed-link"&gt;&lt;a href="https://davorg.medium.com/5-reasons-why-using-ai-to-generate-blog-posts-can-destroy-your-seo-f8db298de65b?source=rss-3781feb8a4f4------2"&gt;Continue reading on Medium »&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</content>
    <author>
      <name>Dave Cross</name>
    </author>
    <id>https://medium.com/p/f8db298de65b</id>
    <published>2022-12-11T11:39:17Z</published>
    <updated>2022-12-11T11:41:05.321000Z</updated>
    <category term="blogging"/>
    <category term="ai"/>
    <category term="seo"/>
    <category term="tech"/>
  </entry>
  <entry>
    <title>5 Reasons Why Using AI to Generate Blog Posts Can Destroy Your SEO</title>
    <link rel="alternate" href="https://blog.dave.org.uk/2022/12/5-reasons-why-using-ai-to-generate-blog-posts-can-destroy-your-seo.html" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml">
<p>Using artificial intelligence (AI) to generate blog posts can be bad for search engine optimization (SEO) for several reasons.</p>



<p>First and foremost, AI-generated content is often low quality and lacks the depth and substance that search engines look for when ranking content. Because AI algorithms are not capable of understanding the nuances and complexities of human language, the content they produce is often generic, repetitive, and lacks originality. This can make it difficult for search engines to understand the context and relevance of the content, which can negatively impact its ranking.</p>



<p>Additionally, AI-generated content is often not well-written or structured, which can make it difficult for readers to understand and engage with. This can lead to a high bounce rate (the percentage of visitors who leave a website after only viewing one page), which can also hurt the website’s ranking.</p>



<p>Furthermore, AI-generated content is often not aligned with the website’s overall content strategy and goals. Because AI algorithms are not capable of understanding the website’s target audience, brand voice, and core messaging, the content they produce may not be relevant or useful to the website’s visitors. This can lead to a poor user experience, which can also hurt the website’s ranking.</p>



<p>Another issue with AI-generated content is that it can be seen as spammy or low quality by both search engines and readers. Because AI-generated content is often produced in large quantities and lacks originality, it can be seen as an attempt to manipulate search engine rankings or trick readers into engaging with the website. This can lead to the website being penalized by search engines or losing the trust and loyalty of its visitors.</p>



<p>In conclusion, using AI to generate blog posts can be bad for SEO for several reasons. AI-generated content is often low quality, poorly written, and not aligned with the website’s content strategy. It can also be seen as spammy or low quality by both search engines and readers, which can hurt the website’s ranking and reputation. It is important for websites to prioritize creating high-quality, original, and relevant content to improve their SEO and provide a positive user experience.</p>



<p>[This post was generated using <a href="https://chat.openai.com/">ChatGPT</a>]</p>
<p>The post <a rel="nofollow" href="https://blog.dave.org.uk/2022/12/5-reasons-why-using-ai-to-generate-blog-posts-can-destroy-your-seo.html">5 Reasons Why Using AI to Generate Blog Posts Can Destroy Your SEO</a> appeared first on <a rel="nofollow" href="https://blog.dave.org.uk">Davblog</a>.</p>
</div>
    </content>
    <summary type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p>Using artificial intelligence (AI) to generate blog posts can be bad for search engine optimization (SEO) for several reasons. First and foremost, AI-generated content is often low quality and lacks the depth and substance that search engines look for when ranking content. Because AI algorithms are not capable of understanding the nuances and complexities of… <a class="more-link" href="https://blog.dave.org.uk/2022/12/5-reasons-why-using-ai-to-generate-blog-posts-can-destroy-your-seo.html">Continue reading <span class="screen-reader-text">5 Reasons Why Using AI to Generate Blog Posts Can Destroy Your SEO</span></a></p>
<p>The post <a rel="nofollow" href="https://blog.dave.org.uk/2022/12/5-reasons-why-using-ai-to-generate-blog-posts-can-destroy-your-seo.html">5 Reasons Why Using AI to Generate Blog Posts Can Destroy Your SEO</a> appeared first on <a rel="nofollow" href="https://blog.dave.org.uk">Davblog</a>.</p>
</div>
    </summary>
    <author>
      <name>Dave Cross</name>
    </author>
    <id>https://blog.dave.org.uk/?p=3890</id>
    <published>2022-12-11T11:38:18Z</published>
    <updated>2022-12-11T11:38:18Z</updated>
    <category term="tech"/>
    <category term="ai"/>
    <category term="blogging"/>
    <category term="seo"/>
  </entry>
  <entry>
    <title>Containers for Coverage</title>
    <link rel="alternate" href="https://davorg.medium.com/containers-for-coverage-1db8dfc76c2d?source=rss-3781feb8a4f4------2" type="text/html"/>
    <content type="html">&lt;figure&gt;&lt;img alt="" src="https://cdn-images-1.medium.com/max/1024/0*YjwJ59dr4XVoMb1b.png" /&gt;&lt;/figure&gt;&lt;p&gt;I’ve been building Docker containers again. And I think you’ll find this one a little more useful than &lt;a href="https://perlhacks.com/2022/10/building-a-perlanet-container/"&gt;the Perlanet one&lt;/a&gt; I wrote about a couple of weeks ago.&lt;/p&gt;&lt;p&gt;Several years ago I got into &lt;a href="https://www.travis-ci.com/"&gt;Travis CI&lt;/a&gt; and set up lots of &lt;a href="https://github.com/davorg?tab=repositories"&gt;my GitHub repos&lt;/a&gt; so they automatically ran the tests each time I committed to the repo. Later on, I also worked out how to tie those test runs into &lt;a href="https://coveralls.io/"&gt;Coveralls.io&lt;/a&gt; so I got pretty graphs of how my test coverage was looking. I gave &lt;a href="https://www.slideshare.net/davorg/github-travisci-and-perl"&gt;a talk about what I had done&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;But two things changed.&lt;/p&gt;&lt;p&gt;Firstly, Travis CI got too popular and, eventually, removed their free service. And, secondly, &lt;a href="https://github.com/features/actions"&gt;GitHub Actions&lt;/a&gt; was introduced. Over the last few years, I’ve set up many of my repos to use GitHub Actions for CI. But, basically because I’m lazy, I didn’t remove the Travis CI configuration from those repos.&lt;/p&gt;&lt;p&gt;But last week I decided the time was right to start work on that. And when I went to remove the .travis.yml I realised that something was missing from my GitHub Actions CI workflows — they were running the unit tests, but they weren’t reporting on test coverage. So it was time to fix that.&lt;/p&gt;&lt;p&gt;I needed to reimplement the logic that connected Travis CI to Coveralls.io in a GitHub workflow. That actually turned out to be pretty simple. There’s a CPAN module called &lt;a href="https://metacpan.org/pod/Devel::Cover::Report::Coveralls"&gt;Devel::Cover::Report::Coveralls&lt;/a&gt; which takes the output from Devel::Cover, converts it to the correct format and sends it to Coveralls.io. And, as a bonus, it has documentation showing how to implement that in a GitHub workflow.&lt;/p&gt;&lt;p&gt;So I hacked at my workflow definition file for one of my CPAN modules and within a few minutes I had it working.&lt;/p&gt;&lt;p&gt;Well, I say “a few minutes”, but it took over thirteen minutes to run. It turns out that Devel::Cover::Report::Coveralls is a pretty heavyweight module and needs to install a lot of other modules in order to do its work.&lt;/p&gt;&lt;p&gt;At this point, you can probably guess where this is going. And you’d be right.&lt;/p&gt;&lt;p&gt;I’ve created a Docker container that has Devel::Cover::Report::Coveralls already installed. And, obviously, it’s available for everyone to use from the Docker hub — &lt;a href="https://hub.docker.com/repository/docker/davorg/perl-coveralls"&gt;davorg/perl-coveralls&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;A couple of small adjustments to my GitHub workflow and the coverage job is now running on my new container — and takes 29 seconds instead of 13 minutes. So that’s a win.&lt;/p&gt;&lt;p&gt;The relevant section of my &lt;a href="https://github.com/davorg/calendar-simple/blob/master/.github/workflows/perltest.yml"&gt;workflow file&lt;/a&gt; is here:&lt;/p&gt;&lt;pre&gt;coverage:&lt;br&gt;    runs-on: ubuntu-latest&lt;br&gt;    container: davorg/perl-coveralls:latest&lt;br&gt;    name: Test coverage&lt;br&gt;    steps:&lt;br&gt;      - uses: actions/checkout@v3&lt;br&gt;      - name: Install modules&lt;br&gt;        run: cpanm -n --installdeps .&lt;br&gt;      - name: Coverage&lt;br&gt;        env:&lt;br&gt;          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}&lt;br&gt;        run: cover -test -report Coveralls&lt;/pre&gt;&lt;p&gt;And it’s producing nice graphs on Coveralls.io like the one above.&lt;/p&gt;&lt;p&gt;Let me know if you find it useful.&lt;/p&gt;&lt;p&gt;&lt;em&gt;Originally published at &lt;/em&gt;&lt;a href="https://perlhacks.com/2022/10/containers-for-coverage/"&gt;&lt;em&gt;Perl Hacks&lt;/em&gt;&lt;/a&gt;&lt;em&gt;.&lt;/em&gt;&lt;/p&gt;&lt;img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=1db8dfc76c2d" width="1" height="1" alt=""&gt;</content>
    <author>
      <name>Dave Cross</name>
    </author>
    <id>https://medium.com/p/1db8dfc76c2d</id>
    <published>2022-10-18T17:02:45Z</published>
    <updated>2022-10-18T17:02:31.930000Z</updated>
    <category term="docker"/>
    <category term="test-coverage"/>
    <category term="testing"/>
    <category term="containers"/>
  </entry>
  <entry>
    <title>Containers for Coverage</title>
    <link rel="alternate" href="https://perlhacks.com/2022/10/containers-for-coverage/" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p>I’ve been building Docker containers again. And I think you’ll find this one a little more useful than <a href="https://perlhacks.com/2022/10/building-a-perlanet-container/">the Perlanet one</a> I wrote about a couple of weeks ago.</p>
<p>Several years ago I got into <a href="https://www.travis-ci.com/">Travis CI</a> and set up lots of <a href="https://github.com/davorg?tab=repositories">my GitHub repos</a> so they automatically ran the tests each time I committed to the repo. Later on, I also worked out how to tie those test runs into <a href="https://coveralls.io/">Coveralls.io</a> so I got pretty graphs of how my test coverage was looking. I gave <a href="https://www.slideshare.net/davorg/github-travisci-and-perl">a talk about what I had done</a>.</p>
<p>But two things changed.</p>
<p>Firstly, Travis CI got too popular and, eventually, removed their free service. And, secondly, <a href="https://github.com/features/actions">GitHub Actions</a> was introduced. Over the last few years, I’ve set up many of my repos to use GitHub Actions for CI. But, basically because I’m lazy, I didn’t remove the Travis CI configuration from those repos.</p>
<p>But last week I decided the time was right to start work on that. And when I went to remove the .travis.yml I realised that something was missing from my GitHub Actions CI workflows – they were running the unit tests, but they weren’t reporting on test coverage. So it was time to fix that.</p>
<p>I needed to reimplement the logic that connected Travis CI to Coveralls.io in a GitHub workflow. That actually turned out to be pretty simple. There’s a CPAN module called <a href="https://metacpan.org/pod/Devel::Cover::Report::Coveralls">Devel::Cover::Report::Coveralls</a> which takes the output from Devel::Cover, converts it to the correct format and sends it to Coveralls.io. And, as a bonus, it has documentation showing how to implement that in a GitHub workflow.</p>
<p>So I hacked at my workflow definition file for one of my CPAN modules and within a few minutes I had it working.</p>
<p>Well, I say “a few minutes”, but it took over thirteen minutes to run. It turns out that Devel::Cover::Report::Coveralls is a pretty heavyweight module and needs to install a lot of other modules in order to do its work.</p>
<p>At this point, you can probably guess where this is going. And you’d be right.</p>
<p>I’ve created a Docker container that has Devel::Cover::Report::Coveralls already installed. And, obviously, it’s available for everyone to use from the Docker hub – <a href="https://hub.docker.com/repository/docker/davorg/perl-coveralls">davorg/perl-coveralls</a>.</p>
<p>A couple of small adjustments to my GitHub workflow and the coverage job is now running on my new container – and takes 29 seconds instead of 13 minutes. So that’s a win.</p>
<p>The relevant section of my <a href="https://github.com/davorg/calendar-simple/blob/master/.github/workflows/perltest.yml">workflow file</a> is here:</p><pre class="urvanov-syntax-highlighter-plain-tag">coverage:
    runs-on: ubuntu-latest
    container: davorg/perl-coveralls:latest
    name: Test coverage
    steps:
      - uses: actions/checkout@v3
      - name: Install modules
        run: cpanm -n --installdeps .
      - name: Coverage
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        run: cover -test -report Coveralls</pre><p>And it’s producing nice graphs on Coveralls.io like the one above.</p>
<p>Let me know if you find it useful.</p>
<p>The post <a rel="nofollow" href="https://perlhacks.com/2022/10/containers-for-coverage/">Containers for Coverage</a> appeared first on <a rel="nofollow" href="https://perlhacks.com">Perl Hacks</a>.</p>
</div>
    </content>
    <summary type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p>I’ve been building Docker containers again. And I think you’ll find this one a little more useful than the Perlanet one I wrote about a couple of weeks ago. Several years ago I got into Travis CI and set up lots of my GitHub repos so they automatically ran the tests each time I committed… <a class="more-link" href="https://perlhacks.com/2022/10/containers-for-coverage/">Continue reading <span class="screen-reader-text">Containers for Coverage</span></a></p>
<p>The post <a rel="nofollow" href="https://perlhacks.com/2022/10/containers-for-coverage/">Containers for Coverage</a> appeared first on <a rel="nofollow" href="https://perlhacks.com">Perl Hacks</a>.</p>
</div>
    </summary>
    <author>
      <name>Dave Cross</name>
    </author>
    <id>https://perlhacks.com/?p=2087</id>
    <published>2022-10-18T17:01:50Z</published>
    <updated>2022-10-18T17:01:50Z</updated>
    <category term="Packaging"/>
    <category term="container"/>
    <category term="coveralls.io"/>
    <category term="docker"/>
    <category term="test coverage"/>
    <category term="testing"/>
  </entry>
  <entry>
    <title>Not that PR, thanks</title>
    <link rel="alternate" href="https://davorg.medium.com/not-that-pr-thanks-a1b15653a75?source=rss-3781feb8a4f4------2" type="text/html"/>
    <content type="html">&lt;figure&gt;&lt;img alt="" src="https://cdn-images-1.medium.com/max/966/0*pLISkpVDhfg0_iwn.png" /&gt;&lt;/figure&gt;&lt;p&gt;It’s October. And that means that &lt;a href="https://hacktoberfest.com/"&gt;Hacktoberfest&lt;/a&gt; has started. If you can get four pull requests accepted on other people’s code repositories during October then you can win a t-shirt.&lt;/p&gt;&lt;p&gt;In many ways, I think it’s a great idea. It encourages people to get involved in open source software. But in other ways, it can be a bit of a pain in the arse. Some people go crazy for a free t-shirt and that means you’ll almost certainly get several pull requests that aren’t really of the quality you’d hope for.&lt;/p&gt;&lt;p&gt;I have a particular problem that probably isn’t very common. I’ve talked before about the “semi-static” sites I run on GitHub Pages. There’s some data in a GitHub Repo and every couple of hours the system wakes up and runs some code which generates a few HTML pages and commits those HTML pages into the repo’s “/docs” directory. And — hey presto! — there’s a new version of your web site.&lt;/p&gt;&lt;p&gt;A good example is &lt;a href="https://perl.theplanetarium.org/"&gt;Planet Perl&lt;/a&gt;. The data is a YAML file which mostly consists of a list of web feeds. Every couple of hours we run &lt;a href="https://metacpan.org/dist/Perlanet/view/bin/perlanet"&gt;perlanet&lt;/a&gt; to pull in those web feeds and build a new version of the web site containing the latest articles about Perl.&lt;/p&gt;&lt;p&gt;Can you see what the problem is?&lt;/p&gt;&lt;p&gt;The problem is that the most obvious file in the repo is the “index.html” which is the web site. So when people find that repo and want to make a small change to the web site they’ll change that “index.html” file. But that file is generated. Every few hours, any changes to that file are overwritten as a new version is created. You actually want to change “index.tt”. But that uses &lt;a href="https://metacpan.org/dist/Template-Toolkit/view/lib/Template/Manual/Directives.pod"&gt;Template Toolkit syntax&lt;/a&gt;, so it’s easy enough to see why people with no Perl knowledge might want to avoid editing that.&lt;/p&gt;&lt;p&gt;The &lt;a href="https://github.com/davorg/planetperl/blob/master/README.md"&gt;README file&lt;/a&gt; for the project explains which files you might want to change in order to make different types of changes. But people don’t read that. Or, if they do read it, they ignore the bits that they don’t like.&lt;/p&gt;&lt;p&gt;So I get pull requests that I have to reject because they change the wrong files.&lt;/p&gt;&lt;p&gt;Last year I got enough of these problematic pull requests that I decided to automate a solution. And it’s &lt;a href="https://github.com/davorg/planetperl/blob/master/.github/workflows/reject-pr.yml"&gt;this pretty simple GitHub Workflow&lt;/a&gt;. It runs whenever my repo receives a pull request and looks at the files that have been changed. If that list of files includes “docs/index.html” then the PR is automatically closed with a polite message explaining what they’ve done wrong.&lt;/p&gt;&lt;p&gt;This makes my life easier. It’s possible it might make your life easier too.&lt;/p&gt;&lt;p&gt;&lt;em&gt;Originally published at &lt;/em&gt;&lt;a href="https://perlhacks.com/2022/10/not-that-pr-thanks/"&gt;&lt;em&gt;Perl Hacks&lt;/em&gt;&lt;/a&gt;&lt;em&gt;.&lt;/em&gt;&lt;/p&gt;&lt;img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=a1b15653a75" width="1" height="1" alt=""&gt;</content>
    <author>
      <name>Dave Cross</name>
    </author>
    <id>https://medium.com/p/a1b15653a75</id>
    <published>2022-10-10T16:02:07Z</published>
    <updated>2022-10-10T16:02:20.401000Z</updated>
    <category term="github-actions"/>
    <category term="pull-request"/>
    <category term="workflow"/>
    <category term="semi-static-sites"/>
    <category term="github"/>
  </entry>
  <entry>
    <title>Not that PR, thanks</title>
    <link rel="alternate" href="https://perlhacks.com/2022/10/not-that-pr-thanks/" type="text/html"/>
    <content type="html">&lt;p&gt;It&amp;#8217;s October. And that means that &lt;a href="https://hacktoberfest.com/"&gt;Hacktoberfest&lt;/a&gt; has started. If you can get four pull requests accepted on other people&amp;#8217;s code repositories during October then you can win a t-shirt.&lt;/p&gt;
&lt;p&gt;In many ways, I think it&amp;#8217;s a great idea. It encourages people to get involved in open source software. But in other ways, it can be a bit of a pain in the arse. Some people go crazy for a free t-shirt and that means you&amp;#8217;ll almost certainly get several pull requests that aren&amp;#8217;t really of the quality you&amp;#8217;d hope for.&lt;/p&gt;
&lt;p&gt;I have a particular problem that probably isn&amp;#8217;t very common. I&amp;#8217;ve talked before about the &amp;#8220;semi-static&amp;#8221; sites I run on GitHub Pages. There&amp;#8217;s some data in a GitHub Repo and every couple of hours the system wakes up and runs some code which generates a few HTML pages and commits those HTML pages into the repo&amp;#8217;s &amp;#8220;/docs&amp;#8221; directory. And &amp;#8211; hey presto! &amp;#8211; there&amp;#8217;s a new version of your web site.&lt;/p&gt;
&lt;p&gt;A good example is &lt;a href="https://perl.theplanetarium.org/"&gt;Planet Perl&lt;/a&gt;. The data is a YAML file which mostly consists of a list of web feeds. Every couple of hours we run &lt;a href="https://metacpan.org/dist/Perlanet/view/bin/perlanet"&gt;perlanet&lt;/a&gt; to pull in those web feeds and build a new version of the web site containing the latest articles about Perl.&lt;/p&gt;
&lt;p&gt;Can you see what the problem is?&lt;/p&gt;
&lt;p&gt;The problem is that the most obvious file in the repo is the &amp;#8220;index.html&amp;#8221; which is the web site. So when people find that repo and want to make a small change to the web site they&amp;#8217;ll change that &amp;#8220;index.html&amp;#8221; file. But that file is generated. Every few hours, any changes to that file are overwritten as a new version is created. You actually want to change &amp;#8220;index.tt&amp;#8221;. But that uses &lt;a href="https://metacpan.org/dist/Template-Toolkit/view/lib/Template/Manual/Directives.pod"&gt;Template Toolkit syntax&lt;/a&gt;, so it&amp;#8217;s easy enough to see why people with no Perl knowledge might want to avoid editing that.&lt;/p&gt;
&lt;p&gt;The &lt;a href="https://github.com/davorg/planetperl/blob/master/README.md"&gt;README file&lt;/a&gt; for the project explains which files you might want to change in order to make different types of changes. But people don&amp;#8217;t read that. Or, if they do read it, they ignore the bits that they don&amp;#8217;t like.&lt;/p&gt;
&lt;p&gt;So I get pull requests that I have to reject because they change the wrong files.&lt;/p&gt;
&lt;p&gt;Last year I got enough of these problematic pull requests that I decided to automate a solution. And it&amp;#8217;s &lt;a href="https://github.com/davorg/planetperl/blob/master/.github/workflows/reject-pr.yml"&gt;this pretty simple GitHub Workflow&lt;/a&gt;. It runs whenever my repo receives a pull request and looks at the files that have been changed. If that list of files includes &amp;#8220;docs/index.html&amp;#8221; then the PR is automatically closed with a polite message explaining what they&amp;#8217;ve done wrong.&lt;/p&gt;
&lt;p&gt;This makes my life easier. It&amp;#8217;s possible it might make your life easier too.&lt;/p&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;p&gt;The post &lt;a rel="nofollow" href="https://perlhacks.com/2022/10/not-that-pr-thanks/"&gt;Not that PR, thanks&lt;/a&gt; appeared first on &lt;a rel="nofollow" href="https://perlhacks.com"&gt;Perl Hacks&lt;/a&gt;.&lt;/p&gt;
</content>
    <summary type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p>It’s October. And that means that Hacktoberfest has started. If you can get four pull requests accepted on other people’s code repositories during October then you can win a t-shirt. In many ways, I think it’s a great idea. It encourages people to get involved in open source software. But in other ways, it can… <a class="more-link" href="https://perlhacks.com/2022/10/not-that-pr-thanks/">Continue reading <span class="screen-reader-text">Not that PR, thanks</span></a></p>
<p>The post <a rel="nofollow" href="https://perlhacks.com/2022/10/not-that-pr-thanks/">Not that PR, thanks</a> appeared first on <a rel="nofollow" href="https://perlhacks.com">Perl Hacks</a>.</p>
</div>
    </summary>
    <author>
      <name>Dave Cross</name>
    </author>
    <id>https://perlhacks.com/?p=2082</id>
    <published>2022-10-10T16:01:43Z</published>
    <updated>2022-10-10T16:01:43Z</updated>
    <category term="Miscellaneous"/>
    <category term="github"/>
    <category term="github actions"/>
    <category term="pull request"/>
    <category term="semi-static sites"/>
    <category term="workflow"/>
  </entry>
  <entry>
    <title>Building a Perlanet Container</title>
    <link rel="alternate" href="https://davorg.medium.com/building-a-perlanet-container-86479f088e32?source=rss-3781feb8a4f4------2" type="text/html"/>
    <content type="html">&lt;figure&gt;&lt;img alt="" src="https://cdn-images-1.medium.com/max/1024/0*Qurz8La174s8M_YL.png" /&gt;&lt;/figure&gt;&lt;p&gt;I’m a dinosaur who still believes that web feeds are a pretty neat idea. I wrote and maintain &lt;a href="https://metacpan.org/pod/perlanet"&gt;perlanet&lt;/a&gt; (a Perl program for aggregating web feeds into a new feed — and building a web site based on that new feed) and I use it to build &lt;a href="https://theplanetarium.org/"&gt;a few sites on topics I’m interested in&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;Last year, I worked out a way to use GitHub Actions to &lt;a href="https://dev.to/davorg/github-actions-for-semi-static-web-sites-597g"&gt;rebuild these sites automatically&lt;/a&gt; every few hours — thereby enabling me to host the sites on GitHub Pages (I still think it’s a useful technique, but I sometimes worry slightly about the large number of commits those repos have — someone at GitHub must surely notice one day!)&lt;/p&gt;&lt;p&gt;Yesterday, I was doing some light maintenance on one of those sites when I realised that each rebuild of these sites was taking a significant time (by which I mean four or five minutes) and started wondering if there was a way to speed them up and use less of GitHub’s resources. The problem is that Perlanet is a pretty hefty module and each rebuild was installing that module (and, therefore, dozens of other modules) on a pristine Ubuntu container.&lt;/p&gt;&lt;p&gt;When you say it like that, the solution is obvious.&lt;/p&gt;&lt;p&gt;You don’t need to run your GitHub Actions on the standard containers that GitHub supplies. You can run them on any container that’s available from any public container hosting service. So the solution was to build a Perlanet container and run the jobs using that instead. So that’s how I spent an hour or so yesterday.&lt;/p&gt;&lt;p&gt;Here’s the Dockerfile I ended up with:&lt;/p&gt;&lt;pre&gt;FROM perl:latest&lt;br&gt;&lt;br&gt;RUN apt-get update &amp;amp;&amp;amp; \&lt;br&gt;    apt-get -y upgrade &amp;amp;&amp;amp; \ &lt;br&gt;    apt-get install -y build-essential &amp;amp;&amp;amp; \&lt;br&gt;    apt-get install -y cpanminus libtidy-dev libxml++2.6-dev libhtml-tidy-perl &amp;amp;&amp;amp; \&lt;br&gt;    cpanm --notest Test::Exception &amp;amp;&amp;amp; \&lt;br&gt;    cpanm --notest Perlanet &amp;amp;&amp;amp; \&lt;br&gt;    cpanm --notest LWP::Protocol::https&lt;/pre&gt;&lt;p&gt;It’s (obviously) &lt;a href="https://github.com/davorg/perl-perlanet-docker"&gt;available on GitHub&lt;/a&gt; in case anyone wants to improve on my rather ropey knowledge of Docker.&lt;/p&gt;&lt;p&gt;I explicitly install Test::Exception because HTML::Tidy (one of Perlanet’s pre-requisites) needs it and I can’t work out why the standard installation procedure isn’t installing it. And while, LWP::Protocol::https is, strictly speaking, required by Perlanet, you wouldn’t get very far on the modern web if you only accessed web feeds that are available over HTTP.&lt;/p&gt;&lt;p&gt;A little bit of Docker Hub set-up and the container is &lt;a href="https://hub.docker.com/r/davorg/perl-perlanet"&gt;available for everyone to use&lt;/a&gt; (and rebuilt automatically whenever I commit to the repo).&lt;/p&gt;&lt;p&gt;It was then just a case of changing my GitHub Actions to use my container. Here’s an example of &lt;a href="https://github.com/davorg/planetdavorg/commit/5b65ce407e89dd16e74ad4b417b104c43dca96ef"&gt;one of the commits&lt;/a&gt; that did that.&lt;/p&gt;&lt;p&gt;I realise I’m pretty late to the party here, but I think this is a useful pattern. If you have a Perl library (or, indeed, any other software) that exists to provide a service to users then it’s a great idea to provide a containerised version of that software.&lt;/p&gt;&lt;p&gt;And I’m happy to report that my site rebuilds have gone from 4–5 minutes to about 45 seconds.&lt;/p&gt;&lt;p&gt;&lt;em&gt;Originally published at &lt;/em&gt;&lt;a href="https://perlhacks.com/2022/10/building-a-perlanet-container/"&gt;&lt;em&gt;Perl Hacks&lt;/em&gt;&lt;/a&gt;&lt;em&gt;.&lt;/em&gt;&lt;/p&gt;&lt;img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=86479f088e32" width="1" height="1" alt=""&gt;</content>
    <author>
      <name>Dave Cross</name>
    </author>
    <id>https://medium.com/p/86479f088e32</id>
    <published>2022-10-06T09:44:06Z</published>
    <updated>2022-10-10T07:57:15.509000Z</updated>
    <category term="docker"/>
    <category term="semi-static"/>
    <category term="containers"/>
    <category term="perlanet"/>
    <category term="packaging"/>
  </entry>
  <entry>
    <title>Building a Perlanet Container</title>
    <link rel="alternate" href="https://perlhacks.com/2022/10/building-a-perlanet-container/" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p>I’m a dinosaur who still believes that web feeds are a pretty neat idea. I wrote and maintain <a href="https://metacpan.org/pod/perlanet">perlanet</a> (a Perl program for aggregating web feeds into a new feed – and building a web site based on that new feed) and I use it to build <a href="https://theplanetarium.org/">a few sites on topics I’m interested in</a>.</p>
<p>Last year, I worked out a way to use GitHub Actions to <a href="https://dev.to/davorg/github-actions-for-semi-static-web-sites-597g">rebuild these sites automatically</a> every few hours – thereby enabling me to host the sites on GitHub Pages (I still think it’s a useful technique, but I sometimes worry slightly about the large number of commits those repos have – someone at GitHub must surely notice one day!)</p>
<p>Yesterday, I was doing some light maintenance on one of those sites when I realised that each rebuild of these sites was taking a significant time (by which I mean four or five minutes) and started wondering if there was a way to speed them up and use less of GitHub’s resources. The problem is that Perlanet is a pretty hefty module and each rebuild was installing that module (and, therefore, dozens of other modules) on a pristine Ubuntu container.</p>
<p>When you say it like that, the solution is obvious.</p>
<p>You don’t need to run your GitHub Actions on the standard containers that GitHub supplies. You can run them on any container that’s available from any public container hosting service. So the solution was to build a Perlanet container and run the jobs using that instead. So that’s how I spent an hour or so yesterday.</p>
<p>Here’s the Dockerfile I ended up with:</p><pre class="urvanov-syntax-highlighter-plain-tag">FROM perl:latest

RUN apt-get update &amp;&amp; \
    apt-get -y upgrade &amp;&amp; \ 
    apt-get install -y build-essential &amp;&amp; \
    apt-get install -y cpanminus libtidy-dev libxml++2.6-dev libhtml-tidy-perl &amp;&amp; \
    cpanm --notest Test::Exception &amp;&amp; \
    cpanm --notest Perlanet &amp;&amp; \
    cpanm --notest LWP::Protocol::https</pre><p>It’s (obviously) <a href="https://github.com/davorg/perl-perlanet-docker">available on GitHub</a> in case anyone wants to improve on my rather ropey knowledge of Docker.</p>
<p>I explicitly install Test::Exception because HTML::Tidy (one of Perlanet’s pre-requisites) needs it and I can’t work out why the standard installation procedure isn’t installing it. And while, LWP::Protocol::https is, strictly speaking, not required by Perlanet, you wouldn’t get very far on the modern web if you only accessed web feeds that are available over HTTP.</p>
<p>A little bit of Docker Hub set-up and the container is <a href="https://hub.docker.com/r/davorg/perl-perlanet">available for everyone to use</a> (and rebuilt automatically whenever I commit to the repo).</p>
<p>It was then just a case of changing my GitHub Actions to use my container. Here’s an example of <a href="https://github.com/davorg/planetdavorg/commit/5b65ce407e89dd16e74ad4b417b104c43dca96ef">one of the commits</a> that did that.</p>
<p>I realise I’m pretty late to the party here, but I think this is a useful pattern. If you have a Perl library (or, indeed, any other software) that exists to provide a service to users then it’s a great idea to provide a containerised version of that software.</p>
<p>And I’m happy to report that my site rebuilds have gone from 4-5 minutes to about 45 seconds.</p>
<p>The post <a rel="nofollow" href="https://perlhacks.com/2022/10/building-a-perlanet-container/">Building a Perlanet Container</a> appeared first on <a rel="nofollow" href="https://perlhacks.com">Perl Hacks</a>.</p>
</div>
    </content>
    <summary type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p>I’m a dinosaur who still believes that web feeds are a pretty neat idea. I wrote and maintain perlanet (a Perl program for aggregating web feeds into a new feed – and building a web site based on that new feed) and I use it to build a few sites on topics I’m interested in.… <a class="more-link" href="https://perlhacks.com/2022/10/building-a-perlanet-container/">Continue reading <span class="screen-reader-text">Building a Perlanet Container</span></a></p>
<p>The post <a rel="nofollow" href="https://perlhacks.com/2022/10/building-a-perlanet-container/">Building a Perlanet Container</a> appeared first on <a rel="nofollow" href="https://perlhacks.com">Perl Hacks</a>.</p>
</div>
    </summary>
    <author>
      <name>Dave Cross</name>
    </author>
    <id>https://perlhacks.com/?p=2076</id>
    <published>2022-10-06T09:43:46Z</published>
    <updated>2022-10-06T09:43:46Z</updated>
    <category term="Packaging"/>
    <category term="container"/>
    <category term="docker"/>
    <category term="packaging"/>
    <category term="perlanet"/>
    <category term="semi-static"/>
  </entry>
  <entry>
    <title>2021 in Gigs</title>
    <link rel="alternate" href="https://davorg.medium.com/2021-in-gigs-7ab20766b20f?source=rss-3781feb8a4f4------2" type="text/html"/>
    <content type="html">&lt;figure&gt;&lt;img alt="" src="https://cdn-images-1.medium.com/max/1024/0*a_nd3y_-Pb0z6dI0.jpg" /&gt;&lt;/figure&gt;&lt;p&gt;A little later than usual, here’s my review of the gigs I saw last year.&lt;/p&gt;&lt;p&gt;In 2020, I saw four gigs. In 2021, I almost doubled that to seven. Obviously, we spent a lot of the year with most music venues closed, so those few gigs I saw were all in the second half of the year. Usually, I’d list my top ten gigs. This year (as last year) I’ll be listing them all. So here they are in chronological order.&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href="https://www.songkick.com/concerts/39755096-mike-oldfield-at-royal-festival-hall-southbank-centre"&gt;&lt;strong&gt;Tubular Bells at the Royal Festival Hall&lt;/strong&gt;&lt;/a&gt;&lt;br&gt;This was a strange show for several reasons. Firstly, it was advertised as commemorating the fiftieth anniversary of &lt;em&gt;Tubular Bells&lt;/em&gt;. But the album was released in 1973, so it was two years early (apparently it was the fiftieth anniversary of when Mike Oldfield started writing the piece). Secondly, Mike Oldfield wasn’t performing — but you needed to examine the publicity very carefully to work that out. And thirdly, there was a troupe of acrobats that were pointlessly leaping around the stage while the musicians played. All in all, I thought this was slightly disappointing.&lt;/li&gt;&lt;li&gt;&lt;a href="https://www.songkick.com/concerts/38968289-heaven-17-at-roundhouse"&gt;&lt;strong&gt;Heaven 17 at the Roundhouse&lt;/strong&gt;&lt;/a&gt;&lt;br&gt;Many of these shows were postponed from 2020. This was originally intended to celebrate the fortieth anniversary of the Human League album, &lt;em&gt;Travelogue&lt;/em&gt;, but it ended but being the forty-first anniversary. But none of that mattered. This was Heaven 17 playing all of the first two Human League albums and it was absolutely wonderful. Apparently, they had invited Phil Oakey to take part, but he wasn’t interested. That’s Heaven 17 in the photo above.&lt;/li&gt;&lt;li&gt;&lt;a href="https://www.songkick.com/concerts/39828850-lump-at-scala"&gt;&lt;strong&gt;LUMP at the Scala&lt;/strong&gt;&lt;/a&gt;&lt;br&gt;LUMP is Laura Marling playing with Tunng’s Mike Lindsay. I kinda assumed that their first album was going to be a one-off, but they produced a second album in 2020. This was the first gig I’d been to in a cramped venue like the Scala for a couple of years and it all got a bit too much for me. I really didn’t enjoy the atmosphere and left during the third or fourth song. I still love the album though and I hope to build up my tolerance for gig crowds over the coming months.&lt;/li&gt;&lt;li&gt;&lt;a href="https://www.songkick.com/concerts/39773071-staves-at-o2-shepherds-bush-empire"&gt;&lt;strong&gt;The Staves at Shepherd’s Bush Empire&lt;/strong&gt;&lt;/a&gt;&lt;br&gt;Actually, this was only two-thirds of the Staves. One of the sisters has had a baby recently and has decided to sit out tours for a couple of years. But the two remaining sisters still put on a great show.&lt;/li&gt;&lt;li&gt;&lt;a href="https://www.songkick.com/concerts/39786793-laura-marling-at-roundhouse"&gt;&lt;strong&gt;Laura Marling at the Roundhouse&lt;/strong&gt;&lt;/a&gt;&lt;br&gt;Given how few gigs I saw last year, it’s surprising how repetitive they were. Here’s Laura Marling again (and the Roundhouse again!) Although she has yet to match the heights of the &lt;em&gt;Short Movie&lt;/em&gt; tour, Laura Marling is always worth seeing and this show was no exception.&lt;/li&gt;&lt;li&gt;&lt;a href="https://www.songkick.com/concerts/39662320-heaven-17-at-o2-shepherds-bush-empire"&gt;&lt;strong&gt;Heaven 17 at the Shepherd’s Bush&lt;/strong&gt;&lt;/a&gt;&lt;br&gt;More repetition. I think the two Heaven 17 gigs were originally supposed to be several months apart, but the vagaries of the Covid scheduling changes led to them being just two months apart. This one celebrated the fortieth (actually forty-first) anniversary of Heaven 17 starting and was a glorious journey through their back catalogue. Oh, and the support was Pete Wylie, so I can finally say I’ve seen all three members of the &lt;a href="https://en.wikipedia.org/wiki/Crucial_Three"&gt;Crucial Three&lt;/a&gt; live.&lt;/li&gt;&lt;li&gt;&lt;a href="https://www.songkick.com/concerts/39709208-orchestral-manoeuvres-in-the-dark-at-eventim-apollo"&gt;&lt;strong&gt;Orchestral Manoeuvres in the Dark at Hammersmith Apollo&lt;/strong&gt;&lt;/a&gt;&lt;br&gt;OMD are just one of those bands that I see live whenever I can. I’ve now been seeing them for over forty years (since they supported Gary Numan in 1980). They have such a massive back catalogue that they can just play hit after hit for two hours. But this show was a bit different as they started by playing all of their 1981 album, &lt;em&gt;Architecture and Morality&lt;/em&gt;. They were as good as I’ve ever seen them.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;And that was 2021. What will happen in 2022? Well, I have tickets for a dozen or so shows but who knows how many of them I’ll actually see? I’ve already had emails postponing the Wolf Alice and Peter Hook shows I was going to see this month. I guess I’ll just have to wait and see how the rest of the year pans out.&lt;/p&gt;&lt;p&gt;&lt;em&gt;Originally published at &lt;/em&gt;&lt;a href="https://blog.dave.org.uk/2022/01/2021-in-gigs.html"&gt;&lt;em&gt;https://blog.dave.org.uk&lt;/em&gt;&lt;/a&gt;&lt;em&gt; on January 9, 2022.&lt;/em&gt;&lt;/p&gt;&lt;img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=7ab20766b20f" width="1" height="1" alt=""&gt;</content>
    <author>
      <name>Dave Cross</name>
    </author>
    <id>https://medium.com/p/7ab20766b20f</id>
    <published>2022-01-09T20:06:09Z</published>
    <updated>2022-06-13T13:17:27.465000Z</updated>
    <category term="music"/>
    <category term="2021"/>
    <category term="gigs"/>
    <category term="year-in-gigs"/>
    <category term="review"/>
  </entry>
  <entry>
    <title>Should Children be Polite While Using Smart Speakers?</title>
    <link rel="alternate" href="https://blog.dave.org.uk/2022/05/should-children-be-polite-while-using-smart-speakers.html" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p>‘Okay Google. Where is Antarctica?”</p>
<p>Children can now get answers to all their questions using smart speakers and digital voice assistants.</p>
<p>A few years ago, children would run to their parents or grandparents to answer their questions. But with the ascendence of voice assistants to the mainstream in recent years, many children rely more on technology than humans.</p>
<p>Is this a good idea?</p>
<p>How does it impact the children?</p>
<p>When children interact with people, it helps them be more thoughtful, creative, and imaginative.</p>
<p>When they use artificial intelligence instead, several issues come into the foreground. These include access to age-inappropriate content and increasing the possibility of being rude or unpleasant, affecting how they treat others.</p>
<p>As mentioned, technology has both pros and cons. There are benefits to children using these devices, including improving diction, communication, social skills, and gaining information without bothering their parents.</p>
<p>Many families find that smart speakers like Amazon Echo and Google Home are useful. They use them for several functions, ranging from answering questions to setting the thermostat. Research shows that up to nine out of ten children between the ages of four and eleven in the US are regularly using smart speakers — often without parental guidance and control. So, what is the best approach for a parent to take?</p>
<p>Children up to seven years old can find it challenging to differentiate between humans and devices, and this can lead to one of the biggest dangers. If the device fulfils their requests through rude behaviour, children may behave similarly to other humans.</p>
<h2>Do Parents Think Smart Devices Should Encourage Polite Conversations?</h2>
<p>Most parents consider it essential that smart devices should encourage polite conversations as a part of nurturing good habits in children. The Campaign for a Commercial-Free Childhood or CCFA is a US coalition of concerned parents, healthcare professionals, and educators. Recently, CCFA protested against Amazon Echo Dot Kids Edition, stating that it may affect children’s wellbeing. Because of this, they requested parents avoid buying Amazon Echo.</p>
<p>However, in reality, these smart devices have improved a lot and focus on encouraging polite conversations with children. It is all about how parents use and present these devices to their children, as these factors can influence them a lot.</p>
<p>But in simple terms, parents wish these devices to encourage politeness in their children. At the same time, they want their kids to understand the difference between artificial intelligence and humans while using these technological innovations.</p>
<h2>Do Parents Think Their Children are Less Polite While Using Smart Speakers?</h2>
<p>Many parents have seen their children behave rudely to smart speakers. Several parents have expressed their concerns through social media, blog posts and forums like Mumsnet. They fear these behaviours can impact their kids when they grow up.</p>
<p>A report published in Child Wise reached the conclusion that children who behave rudely to smart devices might be aggressive while they grow up, especially while dealing with other humans. It is, therefore, preferable if children use polite words while interacting with both humans and smart devices.</p>
<h2>What Approaches Have Been Taken By Tech Companies to Address the Problem?</h2>
<p>With interventions and rising concerns addressed by parents and health professionals, some tech companies have brought changes to virtual assistants and smart speakers.</p>
<p>The parental control features available in Alexa focus on training kids to be more polite. Amazon brands it as Magic Word, where the focus is on bringing positive enforcement. However, there is no penalty if children don’t speak politely. Available on Amazon Echo, this tool has added features like setting bedtimes, switching off devices, and blocking songs with explicit lyrics.</p>
<p>When it comes to Google Home, it has brought in a new feature called Pretty Please. Here, Google will perform an action only when children use, please. For instance, “Okay, Google. Please set the timer for 15 minutes.”</p>
<p>You can enable this feature through the Google Family Link, where you can find the settings for Home and Assistant. You can set these new standards for devices of your preference. Also, once you use it and figure things out, there will be no more issues in setting it up again.</p>
<p>These tools and their approaches are highly beneficial for kids and parents. As of now, these devices only offer basic features and limited replies. But with time, there could be technological changes that encourage children to have much more efficient and polite interactions.</p>
<h2>George and the Smart Home</h2>
<p>It was thinking about issues like this which led me to write my first children’s book — George and the Smart Home. In the book, George is a young boy who has problems getting the smart speakers in his house to do what he wants until he learns to be polite to them.</p>
<p>It is available now, as a paperback and a Kindle book, from Amazon.</p>
<p>Buy it from: <a href="https://amazon.com.au/dp/B09VPLGMBN">AU</a> / <a href="https://amazon.com.br/dp/B09VPLGMBN">BR</a> / <a href="https://amazon.ca/dp/B09VPLGMBN">CA</a> / <a href="https://amazon.de/dp/B09VPLGMBN">DE</a> / <a href="https://amazon.es/dp/B09VPLGMBN">ES</a> / <a href="https://amazon.fr/dp/B09VPLGMBN">FR</a> / <a href="https://amazon.in/dp/B09VPLGMBN">IN</a> / <a href="https://amazon.it/dp/B09VPLGMBN">IT</a> / <a href="https://amazon.co.jp/dp/B09VPLGMBN">JP</a> / <a href="https://amazon.com.mx/dp/B09VPLGMBN">MX</a> / <a href="https://amazon.nl/dp/B09VPLGMBN">NL</a> / <a href="https://amazon.co.uk/dp/B09VPLGMBN">UK</a> / <a href="https://amazon.com/dp/B09VPLGMBN">US</a></p>
<p>The post <a rel="nofollow" href="https://blog.dave.org.uk/2022/05/should-children-be-polite-while-using-smart-speakers.html">Should Children be Polite While Using Smart Speakers?</a> appeared first on <a rel="nofollow" href="https://blog.dave.org.uk">Davblog</a>.</p>
</div>
    </content>
    <summary type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p>‘Okay Google. Where is Antarctica?” Children can now get answers to all their questions using smart speakers and digital voice assistants. A few years ago, children would run to their parents or grandparents to answer their questions. But with the ascendence of voice assistants to the mainstream in recent years, many children rely more on… <a class="more-link" href="https://blog.dave.org.uk/2022/05/should-children-be-polite-while-using-smart-speakers.html">Continue reading <span class="screen-reader-text">Should Children be Polite While Using Smart Speakers?</span></a></p>
<p>The post <a rel="nofollow" href="https://blog.dave.org.uk/2022/05/should-children-be-polite-while-using-smart-speakers.html">Should Children be Polite While Using Smart Speakers?</a> appeared first on <a rel="nofollow" href="https://blog.dave.org.uk">Davblog</a>.</p>
</div>
    </summary>
    <author>
      <name>Dave Cross</name>
    </author>
    <id>https://blog.dave.org.uk/?p=3885</id>
    <published>2022-05-02T13:09:10Z</published>
    <updated>2022-05-02T13:09:10Z</updated>
    <category term="media"/>
    <category term="books"/>
    <category term="children"/>
    <category term="george and the smart home"/>
    <category term="smart speakers"/>
  </entry>
  <entry>
    <title>2021 in Gigs</title>
    <link rel="alternate" href="https://blog.dave.org.uk/2022/01/2021-in-gigs.html" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p>A little later than usual, here’s my review of the gigs I saw last year.</p>
<p>In 2020, I saw four gigs. In 2021, I almost doubled that to seven. Obviously, we spent a lot of the year with most music venues closed, so those few gigs I saw were all in the second half of the year. Usually, I’d list my top ten gigs. This year (as last year) I’ll be listing them all. So here they are in chronological order.</p>
<ul>
<li><strong><a href="https://www.songkick.com/concerts/39755096-mike-oldfield-at-royal-festival-hall-southbank-centre">Tubular Bells at the Royal Festival Hall</a></strong><br/>
This was a strange show for several reasons. Firstly, it was advertised as commemorating the fiftieth anniversary of <em>Tubular Bells</em>. But the album was released in 1973, so it was two years early (apparently it was the fiftieth anniversary of when Mike Oldfield started writing the piece). Secondly, Mike Oldfield wasn’t performing – but you needed to examine the publicity very carefully to work that out. And thirdly, there was a troupe of acrobats that were pointlessly leaping around the stage while the musicians played. All in all, I thought this was slightly disappointing.</li>
<li><strong><a href="https://www.songkick.com/concerts/38968289-heaven-17-at-roundhouse">Heaven 17 at the Roundhouse</a></strong><br/>
Many of these shows were postponed from 2020. This was originally intended to celebrate the fortieth anniversary of the Human League album, <em>Travelogue</em>, but it ended but being the forty-first anniversary. But none of that mattered. This was Heaven 17 playing all of the first two Human League albums and it was absolutely wonderful. Apparently, they had invited Phil Oakey to take part, but he wasn’t interested. That’s Heaven 17 in the photo above.</li>
<li><strong><a href="https://www.songkick.com/concerts/39828850-lump-at-scala">LUMP at the Scala</a></strong><br/>
LUMP is Laura Marling playing with Tunng’s Mike Lindsay. I kinda assumed that their first album was going to be a one-off, but they produced a second album in 2020. This was the first gig I’d been to in a cramped venue like the Scala for a couple of years and it all got a bit too much for me. I really didn’t enjoy the atmosphere and left during the third or fourth song. I still love the album though and I hope to build up my tolerance for gig crowds over the coming months.</li>
<li><strong><a href="https://www.songkick.com/concerts/39773071-staves-at-o2-shepherds-bush-empire">The Staves at Shepherd’s Bush Empire</a></strong><br/>
Actually, this was only two-thirds of the Staves. One of the sisters has has a baby recently and has decided to sit out tours for a couple of years. But the two remaining sisters still put on a great show.</li>
<li><strong><a href="https://www.songkick.com/concerts/39786793-laura-marling-at-roundhouse">Laura Marling at the Roundhouse</a></strong><br/>
Given how few gigs I saw last year, it’s surprising how repetitive they were. Here’s Laura Marling again (and the Roundhouse again!) Although she has yet to match the heights of the <em>Short Movie</em> tour, Laura Marling is always worth seeing and this show was no exception.</li>
<li><strong><a href="https://www.songkick.com/concerts/39662320-heaven-17-at-o2-shepherds-bush-empire">Heaven 17 at the Shepherd’s Bush</a></strong><strong><a href="https://www.songkick.com/concerts/39662320-heaven-17-at-o2-shepherds-bush-empire"> Empire</a></strong><br/>
More repetition. I think the two Heaven 17 gigs were originally supposed to be several months apart, but the vagaries of the Covid scheduling changes led to them being just two months apart. This one celebrated the fortieth (actually forty-first) anniversary of Heaven 17 starting and was a glorious journey through their back catalogue. Oh, and the support was Pete Wylie, so I can finally say I’ve seen all three members of the <a href="https://en.wikipedia.org/wiki/Crucial_Three">Crucial Three</a> live.</li>
<li><strong><a href="https://www.songkick.com/concerts/39709208-orchestral-manoeuvres-in-the-dark-at-eventim-apollo">Orchestral Manoeuvres in the Dark at Hammersmith Apollo</a></strong><br/>
OMD are just one of those bands that I see live whenever I can. I’ve now been seeing them for over forty years (since they supported Gary Numan in 1980). They have such a massive back catalogue that they can just play hit after hit for two hours. But this show was a bit different as they started by playing all of their 1981 album, <em>Architecture and Morality</em>. They were as good as I’ve ever seen them.</li>
</ul>
<p>And that was 2021. What will happen in 2022? Well, I have tickets for a dozen or shows but who knows how many of them I’ll actually see? I’ve already had emails postponing the Wolf Alice and Peter Hook shows I was going to see this month. I guess I’ll just have to wait and see how the rest of the year pans out.</p>
<p>The post <a rel="nofollow" href="https://blog.dave.org.uk/2022/01/2021-in-gigs.html">2021 in Gigs</a> appeared first on <a rel="nofollow" href="https://blog.dave.org.uk">Davblog</a>.</p>
</div>
    </content>
    <summary type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p>A little later than usual, here’s my review of the gigs I saw last year. In 2020, I saw four gigs. In 2021, I almost doubled that to seven. Obviously, we spent a lot of the year with most music venues closed, so those few gigs I saw were all in the second half of… <a class="more-link" href="https://blog.dave.org.uk/2022/01/2021-in-gigs.html">Continue reading <span class="screen-reader-text">2021 in Gigs</span></a></p>
<p>The post <a rel="nofollow" href="https://blog.dave.org.uk/2022/01/2021-in-gigs.html">2021 in Gigs</a> appeared first on <a rel="nofollow" href="https://blog.dave.org.uk">Davblog</a>.</p>
</div>
    </summary>
    <author>
      <name>Dave Cross</name>
    </author>
    <id>https://blog.dave.org.uk/?p=3864</id>
    <published>2022-01-09T20:06:09Z</published>
    <updated>2022-01-09T20:06:09Z</updated>
    <category term="music"/>
    <category term="2021"/>
    <category term="gigs"/>
    <category term="review"/>
    <category term="year in gigs"/>
  </entry>
  <entry>
    <title>The Return of RTD</title>
    <link rel="alternate" href="https://blog.dave.org.uk/2021/09/the-return-of-rtd.html" type="text/html"/>
    <content type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p><em>Doctor Who</em> has a new showrunner. But he’s actually an old showrunner. Is that a good idea?</p>
<p>Since <a href="https://www.bbc.co.uk/news/entertainment-arts-58682472">the news broke</a> yesterday, <em>Doctor Who</em> fan forums have been discussing nothing but the fact that Russell T Davies is returning as showrunner after Chris Chibnall’s regeneration special is broadcast next year. Most fans seem to be very excited by this prospect; I’m not so sure.</p>
<p>Before I start, I should point out that I’ve been a big fan of Russell T Davies since long before he brought <em>Doctor Who</em> back to our screens in 2005. I’ll always be grateful for the work he did to bring the show back and I believe that he’s responsible for some great moments in <em>Doctor Who</em> history.</p>
<p>But I’m not sure I want to see him back as the showrunner. Let me explain why I’m so out of step with most of the show’s fans.</p>
<p>Firstly, although I’m grateful to him for bringing the show back, he’s not my favourite showrunner. Obviously, any <em>Doctor Who</em> is better than no <em>Doctor Who</em> but there was a lot of stuff in Davies’ first run that I didn’t like. For example, He was the person who first introduced us to companions’ families, which brought a slight soap opera feel to some of the episodes. Also, I thought that he often wrote himself into a bit of a corner. This was most apparent in the end of season two-parters. There were many occasions when the first part set up a fantastic premise only to be let down by a finale that just couldn’t live up to the promise. <em>The Stolen Earth</em> was great; <em>Journey’s End</em> was terrible. Then there’s <em>The End of Time</em>. Again, it started off well but had verged well into the ridiculous by the end of the first part. And don’t get me started on the self-indulgent, mawkish nonsense that made up the last twenty minutes of that story — leading to the Tenth Doctor’s regeneration.</p>
<p>I admit, however, that my opinions on Davies’ writing are purely personal. And, because of the massive rise in popularity of the show during his tenure, many viewers see his approach as the gold standard for how the show should work. My other points are, I hope, less opinion-based.</p>
<p>Secondly, <em>Doctor Who</em> is a show that should always be moving forward. In the classic era of the show, previous Doctors and companions would reappear very rarely. When someone left the show, you knew the chances of seeing them again were very slim. When an executive producer left (we didn’t call them showrunners back then) you knew that the show would change in new and experimental ways. Sometimes the changes didn’t work; most of the time they did. Change is fundamental to the show. It’s how the show has kept going for (most of) sixty years.</p>
<p>The newer sections of the audience don’t seem to realise that. I constantly hear fans wanting things to go back to how things were. As soon as Rose was written out at the end of series two, there were calls for her to come back. And while series four has some pretty good stuff in it, I think that bringing Rose back was pandering to the fanbase in an unhealthy way. We now have a situation where fans expect every character who has been written out of the show to be brought back at their whim. There aren’t very many weeks that pass without me seeing someone in a Facebook group suggesting some convoluted way that David Tennant could be brought back to be the Doctor again.</p>
<p>The show must always move forward. It must always change. I believe that RTD knows that, so I hope that his second era in charge will be sufficiently different to his first. But I worry that fans will start asking for Tennant back as the Doctor with Billie Piper by his side. For some fans, that seems to be the only version of the show they will be happy with.</p>
<p>Finally, I worry about what RTD’s reappointment means for the future of the show. When Chibnall’s departure was announced, all of the news stories claimed that he and Whittaker had a “three and out agreement” between themselves and that he only ever planned to do three years running the show. That’s rather at odds with the talk of him having a five-year plan for the show when he was appointed to the role. I realise that he will have done five years in the post by the time he goes, but he will have made three seasons and a handful of specials — so I’m not sure that counts.</p>
<p>No, I think it’s clear that Chibnall has been hounded out of the role by that toxic sector of the fanbase that refuses to give his work on the show a decent chance. And, given that Moffat also put up with a lot of abuse from certain fans, I begin to wonder how easy it is to find someone to take over the job. Chibnall’s departure was announced at the end of July and the BBC would certainly have known about it for some time before that. But they have failed to find someone new and exciting to take over the job and I wonder if it has become a bit of a poison chalice. People want to do the job because, hey, it’s running Doctor Who! But, on the other hand, if you don’t please the fanbase (and no-one can please all of the fanbase) then you’ll be vilified online and hounded off social media. Add to that the fact that both Davies and Moffat cited insane working schedules as part of their reason for leaving and, suddenly, the job doesn’t look quite as tempting.</p>
<p>I have no inside information here at all, but I wonder if the reappointment of RTD was an act of desperation on the part of the BBC. We know that Chibnall is steering the show up to and including a BBC centenary special that will be broadcast in 2022. But the show’s 60th anniversary is the year after that and without a showrunner, you can’t cast a new Doctor and without a new Doctor in place pretty soon, the 60th-anniversary celebrations would seem to be in danger.</p>
<p>The news of the reappointment has all been very celebratory, of course, but I wonder if that’s actually the case. I wonder if the BBC’s approach to RTD was more like this:</p>
<p>“So, that show you resurrected back in 2005. Well, we can’t find anyone to take over as showrunner, and unless we get things moving pretty quickly we’re not going to have a 60th anniversary worth speaking off. Seriously, we’re thinking of just cancelling it… unless you can suggest something that we could do…”</p>
<p>This, of course, leaves RTD thinking that the only way to save his baby is to step in himself. Maybe he’s stepped in as a stop-gap until the BBC finds someone else to take over. The announcement says he’s signed on for the 60th special and following series. But that’s a bit vague (because the English language doesn’t have a plural for “series”!) so who knows how long he’ll hang around for. Time will tell, I guess.</p>
<p>But, if you’re one of those fans who think it’s big or clever to be unrelentingly negative about the showrunner on social media, please stop and consider whether you’re part of a problem that could end up with no-one wanting the job and the show being cancelled.</p>
<p>All-in-all, I wish that the BBC hadn’t done this. I would have far preferred to see the show moving forward. But if, as I suspect, the alternative was no new Doctor Who for the foreseeable future, then obviously this is a good plan. I’m keen to see what Davies has in store.</p>
<p>But first I’m really excited to see what Chibnall has in store for his final series and the subsequent specials. If series 13 improves on series 12 to the extent that series 12 improved on series 11, then it’s going to be great.</p>
<p>The post <a rel="nofollow" href="https://blog.dave.org.uk/2021/09/the-return-of-rtd.html">The Return of RTD</a> appeared first on <a rel="nofollow" href="https://blog.dave.org.uk">Davblog</a>.</p>
</div>
    </content>
    <summary type="xhtml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p>Doctor Who has a new showrunner. But he’s actually an old showrunner. Is that a good idea? Since the news broke yesterday, Doctor Who fan forums have been discussing nothing but the fact that Russell T Davies is returning as showrunner after Chris Chibnall’s regeneration special is broadcast next year. Most fans seem to be… <a class="more-link" href="https://blog.dave.org.uk/2021/09/the-return-of-rtd.html">Continue reading <span class="screen-reader-text">The Return of RTD</span></a></p>
<p>The post <a rel="nofollow" href="https://blog.dave.org.uk/2021/09/the-return-of-rtd.html">The Return of RTD</a> appeared first on <a rel="nofollow" href="https://blog.dave.org.uk">Davblog</a>.</p>
</div>
    </summary>
    <author>
      <name>Dave Cross</name>
    </author>
    <id>https://blog.dave.org.uk/?p=3882</id>
    <published>2021-09-25T12:59:24Z</published>
    <updated>2021-09-25T12:59:24Z</updated>
    <category term="media"/>
    <category term="Uncategorized"/>
  </entry>
</feed>
